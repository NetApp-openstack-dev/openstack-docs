<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Triage and Data Collection</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
<link rel="stylesheet" href="../_static/sphinxmark.css" type="text/css" />
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-86037601-2', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>

<!-- SOURCE_FILE: https://github.com/NetApp-openstack-dev/openstack-docs/appendices/section_triage-and-data-collection.rst -->

 <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

    _st('install','aDn5L_vgZ2yzRcE893kK','2.0.0');
</script>
<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="http://netapp.io/openstack"></a>
      </div>
      <div class="search-icon hide"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
         <form class="docs-main-search-form">
    <input type="text" class="st-default-search-input custom-search-box" placeholder="Search OpenStack">
</form>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
           <li>
    <input type="text" class="st-default-search-input custom-search-box-mobile" placeholder="Search OpenStack">
</li>
        </li>
        <li>
          <a class="drop" id="dropdownMenuSoftware">Upstream Docs <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openstack.org/software/start/">Getting Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openstack.org/projects/openstack-faq/">Common Questions</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://developer.openstack.org/">API Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/glance/pike">Glance Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/nova/pike">Nova Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/cinder/pike">Cinder Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/project-install-guide/shared-file-systems/draft/">Manila Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/project-install-guide/object-storage/draft/">Swift Documentation</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>Triage and Data Collection</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="section_common-problems.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Common Problems"></i></a>
    
    
    <a href="section_references.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: References"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-09-26 20:37</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

              </div>
              <div class="docs-body">

  <div class="section" id="triage-and-data-collection">
<span id="id1"></span><h1>Triage and Data Collection<a class="headerlink" href="#triage-and-data-collection" title="Permalink to this headline">¶</a></h1>
<p>When you run into an issue with the NetApp OpenStack integrations, you may</p>
<ul class="simple">
<li>seek help in the
<a class="reference external" href="https://community.netapp.com">NetApp OpenStack Communities</a> site, or</li>
<li>open a support request through the
<a class="reference external" href="https://support.netapp.com">NetApp Support portal</a>, or</li>
<li>contact your NetApp account representative.</li>
</ul>
<p>OpenStack log and configuration files provide information that aid in triaging
bugs. As a rule of thumb log files need to be collected for the processes
that were involved. You may enable logging at the <code class="docutils literal"><span class="pre">debug</span></code> level and
attempt to reproduce the issue to trace through the logs. The option to
toggle debug logging is called <code class="docutils literal"><span class="pre">debug</span></code> in the respective configuration
file. This option defaults to <code class="docutils literal"><span class="pre">False</span></code> and can be set to <code class="docutils literal"><span class="pre">True</span></code> when
troubleshooting.</p>
<p>Be aware that debug logging will result in bloated log files and is
typically turned off except when identifying root cause for failures or
unexpected behavior. Also be aware of log rotation settings and attempt to
collate archived log files as necessary.</p>
<p>If using Cinder, the following processes log into individual files:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cinder-api</span></code></li>
<li><code class="docutils literal"><span class="pre">cinder-backup</span></code></li>
<li><code class="docutils literal"><span class="pre">cinder-scheduler</span></code></li>
<li><code class="docutils literal"><span class="pre">cinder-volume</span></code></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When using ONTAP as your block storage back end, you can add the following
line to your NetApp backend stanza(s) in cinder.conf to capture more
debug logging around the driver’s interaction with ONTAP in the
cinder-volume log:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="n">trace_flags</span> <span class="o">=</span> <span class="n">method</span><span class="p">,</span><span class="n">api</span>
</pre></div>
</div>
</div>
<p>If using Manila, the following processes log into individual files:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">manila-api</span></code></li>
<li><code class="docutils literal"><span class="pre">manila-scheduler</span></code></li>
<li><code class="docutils literal"><span class="pre">manila-share</span></code></li>
<li><code class="docutils literal"><span class="pre">manila-data</span></code></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When using ONTAP as your shared filesystems storage back end, you can add
the following lines to your NetApp backend stanza(s) in manila.conf to
capture more debug logging around the driver’s interaction with ONTAP in
the manila-share log:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="n">netapp_trace_flags</span> <span class="o">=</span> <span class="n">method</span><span class="p">,</span><span class="n">api</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To trace specific ONTAP APIs, add the following line to your NetApp
backend stanza(s) in manila.conf:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>netapp_api_trace_pattern  =  ^volume-.*$
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To trace all ONTAP APIs with exception of (X), add the following
line to your NetApp backend stanza(s) in manila.conf:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>netapp_api_trace_pattern  =  ^(?!(perf|aggr-get-iter)).*$
</pre></div>
</div>
</div>
<p>If using Nova, the following processes log into individual files:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">nova-api</span></code></li>
<li><code class="docutils literal"><span class="pre">nova-scheduler</span></code></li>
<li><code class="docutils literal"><span class="pre">nova-cpu</span></code></li>
</ul>
<p>If using Glance, the following processes log into individual files:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">glance-api</span></code></li>
<li><code class="docutils literal"><span class="pre">glance-registry</span></code></li>
</ul>
<p>If using Swift, the following processes log into individual files:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">swift-object-server</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-object-replicator</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-object-updator</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-object-auditor</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-container-server</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-container-replicator</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-container-updator</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-container-auditor</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-account-server</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-account-replicator</span></code></li>
<li><code class="docutils literal"><span class="pre">swift-account-auditor</span></code></li>
</ul>
<p>Besides log files, a support engineer would ask you to provide your
Configuration files, with any sensitive information removed as necessary.
The default location of the configuration files are in <code class="docutils literal"><span class="pre">/etc</span></code> directory
on the controller nodes running those processes. For example, the default
configuration files for Cinder are in <code class="docutils literal"><span class="pre">/etc/cinder/</span></code> directory.</p>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="section_common-problems.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Common Problems"></i></a>
          
          
            <a href="section_references.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: References"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-09-26 20:37</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<p>
 This document is licensed under
 <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://netapp.io/slack/" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
<a href="../index.html">
  <button href="#" type="button"
          class="btn docs-sidebar-release-select">NetApp OpenStack Docs 2017.2</button>
</a>

  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <h4></h4>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ch_executive-summary.html">Executive Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_openstack-overview.html">OpenStack Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_netapp-storage.html">NetApp Systems and Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_packaging.html">Installing OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_glance-image-service.html">Image Service (Glance)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_nova.html">Compute Service (Nova)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_cinder.html">Block Storage (Cinder)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_manila.html">Shared Filesystems (Manila)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_swift.html">Object Storage (Swift)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_operations.html">Day two operations</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ch_appendix.html">Appendix</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="section_common-problems.html">Common Problems</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Triage and Data Collection</a></li>
<li class="toctree-l2"><a class="reference internal" href="section_references.html">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="section_support.html">Support</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>NetApp Resources</h3>
        <ul>
          <li><a href="http://netapp.io/openstack/#resources">NetApp OpenStack Resources</a></li>
          <li><a href="http://docs.netapp.com">NetApp documentation</a></li>
          <li><a href="http://www.netapp.com/us/media/tr-4620.pdf">NetApp SolidFire Storage Config Guide</a></li>
          <li><a href="https://mysupport.netapp.com/">NetApp Support</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>News</h3>
        <ul>
          <li><a href="http://netapp.io/blog/">Netapp's thePub</a></li>
          <li><a href="http://planet.openstack.org/">Community Blog</a></li>
          <li><a href="http://openstack.org/news/">Community News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Social Media</h3>
        <ul>
          <li><a href="https://www.github.com/netapp">GitHub</a></li>
          <li><a href="http://netapp.io/slack">Slack</a></li>
          <li><a href="https://twitter.com/@openstacknetapp">Twitter @openstacknetapp</a></li>
          <li><a href="https://www.youtube.com/user/NetAppTV">Youtube NetAppTV</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Legal</h3>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-3.1.1.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "appendices/section_triage-and-data-collection" + ".rst";
        gitURL = "Source: https://github.com/NetApp-openstack-dev/openstack-docs" + "/" + sourceFile;

    /* gitsha, project, bug_tag and watermark rely on variables in conf.py */
    var gitSha = "SHA: 35b00658b980aa0520b8d2bba4e278d2b61aae98";
        var bugProject = "NetApp-openstack-dev/openstack-docs";
        var bugTitle = "Triage and Data Collection in NetApp OpenStack Docs";
    var fieldTags = "docs, dog";
    var watermark = "QUEENS DRAFT"
        var useStoryboard = "";


    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 2017.2 on 2017-09-26 20:37";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags, watermark);
</script>

  </body>
</html>