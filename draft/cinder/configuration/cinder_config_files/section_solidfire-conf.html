<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: NetApp Driver for SolidFire</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Bootstrap CSS -->
<link href="../../../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../../../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../../../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../../../_static/css/combined.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="../../../_static/bespoke.css" type="text/css" />
<link rel="stylesheet" href="../../../_static/sphinxmark.css" type="text/css" />
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-86037601-2', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>

<!-- SOURCE_FILE: https://github.com/NetApp-openstack-dev/openstack-docs/cinder/configuration/cinder_config_files/section_solidfire-conf.rst -->

 <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

    _st('install','aDn5L_vgZ2yzRcE893kK','2.0.0');
</script>
<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="http://netapp.io/openstack"></a>
      </div>
      <div class="search-icon hide"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
         <form class="docs-main-search-form">
    <input type="text" class="st-default-search-input custom-search-box" placeholder="Search OpenStack">
</form>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
           <li>
    <input type="text" class="st-default-search-input custom-search-box-mobile" placeholder="Search OpenStack">
</li>
        </li>
        <li>
          <a class="drop" id="dropdownMenuSoftware">Upstream Docs <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openstack.org/software/start/">Getting Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openstack.org/projects/openstack-faq/">Common Questions</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://developer.openstack.org/">API Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/glance/pike">Glance Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/nova/pike">Nova Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/cinder/pike">Cinder Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/project-install-guide/shared-file-systems/draft/">Manila Documentation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/project-install-guide/object-storage/draft/">Swift Documentation</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>NetApp Driver for SolidFire</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="section_fibre-channel.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Fibre Channel & cinder.conf"></i></a>
    
    
    <a href="unified_driver_ontap/section_cinder-conf-nfs.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: NetApp Unified Driver for ONTAP with NFS"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2024-01-29 21:41</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../../../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">NetApp Driver for SolidFire</a><ul>
<li><a class="reference internal" href="#solidfire-cinder-driver-configuration">SolidFire Cinder Driver Configuration</a></li>
<li><a class="reference internal" href="#optional-cinder-configuration-attributes">Optional Cinder Configuration Attributes</a></li>
<li><a class="reference internal" href="#multiple-openstack-cloud-instances">Multiple OpenStack Cloud Instances</a></li>
<li><a class="reference internal" href="#solidfire-replication-setup">SolidFire Replication Setup</a></li>
<li><a class="reference internal" href="#solidfire-storage-assisted-migration">SolidFire Storage Assisted Migration</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <section id="netapp-driver-for-solidfire">
<span id="solidfire"></span><h1>NetApp Driver for SolidFire<a class="headerlink" href="#netapp-driver-for-solidfire" title="Permalink to this heading">¶</a></h1>
<section id="solidfire-cinder-driver-configuration">
<h2>SolidFire Cinder Driver Configuration<a class="headerlink" href="#solidfire-cinder-driver-configuration" title="Permalink to this heading">¶</a></h2>
<p>The OpenStack Cinder driver enables communication between OpenStack
SolidFire storage system. The user can use information from
the SF-Series cluster to configure the driver by modifying the
<code class="docutils literal notranslate"><span class="pre">/etc/cinder/cinder.conf</span></code> service file on the controller host.
For more information on the configuration and best practices please visit
the following link: <a class="reference external" href="http://www.netapp.com/us/media/tr-4620.pdf">http://www.netapp.com/us/media/tr-4620.pdf</a></p>
<p>Table 4.18 lists the required storage system attributes used in the
<code class="docutils literal notranslate"><span class="pre">/etc/cinder/cinder.conf</span></code> configuration file.</p>
<table class="docutils align-default" id="table-4-18">
<thead>
<tr class="row-odd"><th class="head"><p>SolidFire Attribute</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">san_ip</span></code></p></td>
<td><p>None</p></td>
<td><p>SolidFire cluster MVIP</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">san_login</span></code></p></td>
<td><p>None</p></td>
<td><p>SolidFire cluster administrative user</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">san_password</span></code></p></td>
<td><p>None</p></td>
<td><p>SolidFire cluster administrative password</p></td>
</tr>
</tbody>
</table>
<p>Table 4.18. Required SolidFire Attributes</p>
<p>Add the following lines to the file, replacing login and password with
the cluster admin login credentials</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">solidfire</span><span class="p">]</span>
<span class="n">volume_backend_name</span><span class="o">=</span><span class="n">solidfire</span>
<span class="n">volume_driver</span><span class="o">=</span><span class="n">cinder</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">drivers</span><span class="o">.</span><span class="n">solidfire</span><span class="o">.</span><span class="n">SolidFireDriver</span>
<span class="n">san_ip</span><span class="o">=</span><span class="mf">172.17.1.182</span>
<span class="n">san_login</span><span class="o">=</span><span class="n">login</span>
<span class="n">san_password</span><span class="o">=</span><span class="n">password</span>

<span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">enabled_backends</span><span class="o">=</span><span class="n">solidfire</span>
</pre></div>
</div>
</section>
<section id="optional-cinder-configuration-attributes">
<h2>Optional Cinder Configuration Attributes<a class="headerlink" href="#optional-cinder-configuration-attributes" title="Permalink to this heading">¶</a></h2>
<p>You can optionally use the following attributes specific to SolidFire
in the <code class="docutils literal notranslate"><span class="pre">[solidfire]</span></code> section of the <code class="docutils literal notranslate"><span class="pre">/etc/cinder/cinder.conf</span></code>
configuration file to control the interaction between the storage
system and the OpenStack Cinder service. (See Table 4.19.)</p>
<table class="docutils align-default" id="table-4-19">
<thead>
<tr class="row-odd"><th class="head"><p>SolidFire Attribute</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sf_account_prefix</span></code></p></td>
<td><p>None</p></td>
<td><p>Create storage system accounts with this prefix. The default is no prefix.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sf_allow_tenant_qos</span></code></p></td>
<td><p>False</p></td>
<td><p>Allow individual tenants to specify QoS on volume creation. Setting this value to True disables dynamic QOS as well as administrative control over QOS. Changing from the default is not recommended.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sf_api_port</span></code></p></td>
<td><p>443</p></td>
<td><p>The SolidFire storage system API port. Change this value if the device API is behind a proxy on a different port.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sf_emulate_512</span></code></p></td>
<td><p>True</p></td>
<td><p>Set 512-byte emulation on volume creation. Note: The default is to enable 512 emulation. Required for KVM hypervisors.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sf_enable_vag</span></code></p></td>
<td><p>False</p></td>
<td><p>Use volume access groups on a per tenant basis instead of using CHAP secrets.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sf_svip</span></code></p></td>
<td><p>None</p></td>
<td><p>Overrides the default cluster SVIP with the one specified. This option should only be used when multiple OpenStack instances are accessing the storage cluster from non-default VLANs.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sf_volume_prefix</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">UUID-</span></code></p></td>
<td><p>Create volumes on the cluster with this prefix. Volumes use the prefix format <code class="docutils literal notranslate"><span class="pre">&lt;sf_volume_prefix&gt;&lt;cindervolume-id&gt;</span></code>. The default is to use the prefix <code class="docutils literal notranslate"><span class="pre">UUID-</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">replication_device</span></code></p></td>
<td><p>None</p></td>
<td><p>SolidFire Target Cluster for Replication. This option uses the format <code class="docutils literal notranslate"><span class="pre">backend_id:&lt;backend-id&gt;,mvip:&lt;target-mvip&gt;,login:&lt;target-login&gt;,password:&lt;target-password&gt;</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sf_provisioning_calc</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">maxProvisionedSpace</span></code></p></td>
<td><p>Change how SolidFire reports used space and provisioning calculations. If this parameter is set to <code class="docutils literal notranslate"><span class="pre">usedSpace</span></code>, the  driver will report correct values as expected by Cinder thin provisioning.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sf_cluster_pairing_timeout</span></code></p></td>
<td><p>60</p></td>
<td><p>Set time in seconds to wait for cluster to complete pairing.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sf_volume_pairing_timeout</span></code></p></td>
<td><p>3600</p></td>
<td><p>Set time in seconds to wait for a migrating volume to complete pairing and sync.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sf_api_request_timeout</span></code></p></td>
<td><p>30</p></td>
<td><p>Set time in seconds to wait for an API request to complete.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sf_volume_clone_timeout</span></code></p></td>
<td><p>600</p></td>
<td><p>Set time in seconds to wait for a clone of a volume or snapshot to complete.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sf_volume_create_timeout</span></code></p></td>
<td><p>60</p></td>
<td><p>Sets time in seconds to wait for a create volume operation to complete.</p></td>
</tr>
</tbody>
</table>
<p>Table 4.19. Optional SolidFire Attributes</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>SolidFire timeout attributes are used to wait an amount of time for
several tasks completion in order to avoid sync or blocking issues.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>SolidFire internal image caching feature is deprecated
since Queens release, thenceforth generalized Cinder global
caching feature is used.
<code class="docutils literal notranslate"><span class="pre">sf_allow_template_caching</span></code> and <code class="docutils literal notranslate"><span class="pre">sf_template_account_name</span></code>
attributes are not valid configuration options anymore.</p>
</div>
</section>
<section id="multiple-openstack-cloud-instances">
<h2>Multiple OpenStack Cloud Instances<a class="headerlink" href="#multiple-openstack-cloud-instances" title="Permalink to this heading">¶</a></h2>
<p>There are several facilities in the SolidFire driver that can
accommodate scenarios involving multiple OpenStack cloud instances
using a single SolidFire cluster. These features include account
prefixes, volume prefixes, virtual networks, and multiple virtual
interfaces (VIFs).</p>
<p>You can configure an account prefix using the variable
<code class="docutils literal notranslate"><span class="pre">sf_account_prefix</span></code> in the <code class="docutils literal notranslate"><span class="pre">/etc/cinder/cinder.conf</span></code> file. You
can set this variable differently for each OpenStack cloud
instance, allowing the storage cluster administrator to
distinguish between accounts for each OpenStack instance.
By default, the <code class="docutils literal notranslate"><span class="pre">sf_account_prefix</span></code> variable is not set,
and account names have no prefix.</p>
<p>The OpenStack Mitaka release introduced the <code class="docutils literal notranslate"><span class="pre">sf_volume_prefix</span></code>
variable to allow creation of unique volume prefixes for each
OpenStack cloud instance.</p>
<p>The default value of the <code class="docutils literal notranslate"><span class="pre">sf_volume_prefix</span></code> variable is
UUID-, which automatically configures the driver to work
as it has prior to the OpenStack Mitaka release. If you have multiple
OpenStack cloud instances attached to a single SolidFire system,
NetApp recommends that you change this variable for each instance
using the SolidFire system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The variable <code class="docutils literal notranslate"><span class="pre">sf_volume_prefix</span></code> should not be changed within a
cloud after a volume has been provisioned on the SolidFire storage
system with OpenStack.</p>
</div>
<p>You can use VLANs and multiple VIFs to separate multiple OpenStack
cloud instances. Element OS supports multiple storage virtual
interfaces (SVIPs) on separate virtual networks. Each OpenStack cloud
instance accesses the storage system through the shared management
port. NetApp recommends that you configure each OpenStack cloud
instance with a unique cluster admin account.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you use a single SVIP with OpenStack, the SolidFire
driver acquires the SVIP by querying the cluster. If multiple SVIP
addresses are configured, the query returns the default SVIP on
the native virtual network. You can configure an alternate virtual
network for the OpenStack cloud instance by modifying the
<code class="docutils literal notranslate"><span class="pre">/etc/cinder/cinder.conf</span></code> file. Set the <code class="docutils literal notranslate"><span class="pre">sf_svip</span></code> variable in the
<code class="docutils literal notranslate"><span class="pre">[solidfire]</span></code> section of the <code class="docutils literal notranslate"><span class="pre">/etc/cinder/cinder.conf</span></code> file for that
OpenStack cloud instance to the IP address you want the iSCSI
initiator to use to access volumes on the storage system.</p>
</div>
</section>
<section id="solidfire-replication-setup">
<h2>SolidFire Replication Setup<a class="headerlink" href="#solidfire-replication-setup" title="Permalink to this heading">¶</a></h2>
<p>In order to use SolidFire with Replication enabled you must have a secondary
target backend configured and being referenced by primary host under
<code class="docutils literal notranslate"><span class="pre">replication_device</span></code> attribute. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">solidfire</span><span class="p">]</span>
<span class="n">volume_backend_name</span><span class="o">=</span><span class="n">solidfire</span>
<span class="n">volume_driver</span><span class="o">=</span><span class="n">cinder</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">drivers</span><span class="o">.</span><span class="n">solidfire</span><span class="o">.</span><span class="n">SolidFireDriver</span>
<span class="n">san_ip</span><span class="o">=</span><span class="mf">172.17.1.182</span>
<span class="n">san_login</span><span class="o">=</span><span class="n">login</span>
<span class="n">san_password</span><span class="o">=</span><span class="n">password</span>
<span class="n">replication_device</span><span class="o">=</span><span class="n">backend_id</span><span class="p">:</span><span class="n">solidfire2</span><span class="p">,</span><span class="n">mvip</span><span class="p">:</span><span class="mf">172.17.1.142</span><span class="p">,</span><span class="n">login</span><span class="p">:</span><span class="n">login2</span><span class="p">,</span><span class="n">password</span><span class="p">:</span><span class="n">password2</span>

<span class="p">[</span><span class="n">solidfire</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">volume_backend_name</span><span class="o">=</span><span class="n">solidfire2</span>
<span class="n">volume_driver</span><span class="o">=</span><span class="n">cinder</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">drivers</span><span class="o">.</span><span class="n">solidfire</span><span class="o">.</span><span class="n">SolidFireDriver</span>
<span class="n">san_ip</span><span class="o">=</span><span class="mf">172.17.1.142</span>
<span class="n">san_login</span><span class="o">=</span><span class="n">login2</span>
<span class="n">san_password</span><span class="o">=</span><span class="n">password2</span>

<span class="p">[</span><span class="n">DEFAULT</span><span class="p">]</span>
<span class="n">enabled_backends</span><span class="o">=</span><span class="n">solidfire</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The secondary cluster is not required to be in the <code class="docutils literal notranslate"><span class="pre">enabled_backends</span></code>
like in the example above.</p>
</div>
<p>You also need a volume type with <code class="docutils literal notranslate"><span class="pre">replication_enabled=&lt;is&gt;</span> <span class="pre">True</span></code> set as an
extra-spec:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cinder type-show solidfire

+---------------------------------+--------------------------------------+
| Property                        | Value                                |
+---------------------------------+--------------------------------------+
| description                     | None                                 |
| extra_specs                     | replication_enabled : &lt;is&gt; True      |
|                                 | volume_backend_name : solidfire      |
| id                              | 6910843e-0d49-4f8b-84f5-288d3672699d |
| is_public                       | True                                 |
| name                            | solidfire                            |
| os-volume-type-access:is_public | True                                 |
| qos_specs_id                    | None                                 |
+---------------------------------+--------------------------------------+
</pre></div>
</div>
<p>When using SolidFire with Replication enabled you can use three different
replication modes:</p>
<ul class="simple">
<li><p>Real-time (Asynchronous): Writes are acknowledged to the client after they
are committed on the source cluster.</p></li>
<li><p>Real-time (Synchronous): Writes are acknowledged to the client after they
are committed on both the source and target clusters.</p></li>
<li><p>Snapshot-Only: Only snapshots created on the source cluster are replicated.
Active writes from the source volume are not replicated.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>From Ussuri release, the support for Active/Active (including replication)
was added to the SolidFire driver. So the replication can also happen in
clustered environments.</p>
</div>
<p>The default mode is <code class="docutils literal notranslate"><span class="pre">Real-time</span> <span class="pre">(Asynchronous)</span></code>, and a new volume type extra-spec
must be set in order to change it. This extras-spec is
<code class="docutils literal notranslate"><span class="pre">solidfire:replication_mode</span></code> and its possible values are <code class="docutils literal notranslate"><span class="pre">Sync</span></code>, <code class="docutils literal notranslate"><span class="pre">Async</span></code>
and <code class="docutils literal notranslate"><span class="pre">SnapshotsOnly</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cinder type-show solidfire

+---------------------------------+--------------------------------------+
| Property                        | Value                                |
+---------------------------------+--------------------------------------+
| description                     | None                                 |
| extra_specs                     | replication_enabled : &lt;is&gt; True      |
|                                 | solidfire:replication_mode : Sync    |
|                                 | volume_backend_name : solidfire      |
| id                              | 6910843e-0d49-4f8b-84f5-288d3672699d |
| is_public                       | True                                 |
| name                            | solidfire                            |
| os-volume-type-access:is_public | True                                 |
| qos_specs_id                    | None                                 |
+---------------------------------+--------------------------------------+
</pre></div>
</div>
</section>
<section id="solidfire-storage-assisted-migration">
<h2>SolidFire Storage Assisted Migration<a class="headerlink" href="#solidfire-storage-assisted-migration" title="Permalink to this heading">¶</a></h2>
<p>Starting on Victoria Release, NetApp SolidFire implements support for Storage
Assisted Migration. With storage-assisted migration, the operation is optimized
because it is managed by the storage driver instead of OpenStack Block Storage
service.</p>
<p>More details about Volume Migration can be found under the official OpenStack
Documentation in the following link: <a class="reference external" href="https://docs.openstack.org/cinder/victoria/contributor/migration.html">https://docs.openstack.org/cinder/victoria/contributor/migration.html</a></p>
<p>There are a few requirements to perform a storage-assisted migration:</p>
<ul class="simple">
<li><p>The volume status must be <code class="docutils literal notranslate"><span class="pre">available</span></code>.</p></li>
<li><p>Storage-assisted migration can not be performed on replicated volumes.</p></li>
<li><p>If the destination backend or cluster is the one where the volume is
currently placed, nothing will be done.</p></li>
</ul>
<p>Here is an example using cinder retype:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cinder list

+--------------------------------------+-----------+------+------+--------------+----------+-------------+
| ID                                   | Status    | Name | Size | Volume Type  | Bootable | Attached to |
+--------------------------------------+-----------+------+------+--------------+----------+-------------+
| ed841a96-4692-4368-a011-5c792aa47020 | available | v1   | 10   | solidfire-1  | false    |             |
+--------------------------------------+-----------+------+------+--------------+----------+-------------+

$ cinder retype --migration-policy on-demand v1 solidfire-2

+--------------------------------------+-----------+------+------+---------------+----------+-------------+
| ID                                   | Status    | Name | Size | Volume Type   | Bootable | Attached to |
+--------------------------------------+-----------+------+------+---------------+----------+-------------+
| caa7f059-f2e4-44bc-a6c2-c2fdba41d986 | available | v1   | 10   | solidfire-2   | false    |             |
| ed841a96-4692-4368-a011-5c792aa47020 | retyping  | v1   | 10   | solidfire-1   | false    |             |
+--------------------------------------+-----------+------+------+---------------+----------+-------------+

$ cinder show ed841a96-4692-4368-a011-5c792aa47020

+--------------------------------+--------------------------------------+
| Property                       | Value                                |
+--------------------------------+--------------------------------------+
| attached_servers               | []                                   |
| attachment_ids                 | []                                   |
| availability_zone              | nova                                 |
| bootable                       | false                                |
| consistencygroup_id            | None                                 |
| created_at                     | 2021-01-08T16:22:27.000000           |
| description                    | None                                 |
| encrypted                      | False                                |
| id                             | ed841a96-4692-4368-a011-5c792aa47020 |
| metadata                       |                                      |
| migration_status               | migrating                            |
| multiattach                    | False                                |
| name                           | v1                                   |
| os-vol-host-attr:host          | host1@solidfire-1#solidfire-1        |
| os-vol-mig-status-attr:migstat | migrating                            |
| os-vol-mig-status-attr:name_id | None                                 |
| os-vol-tenant-attr:tenant_id   | 08d8fe03a3e74032afd1c4ee665ff2bc     |
| replication_status             | None                                 |
| size                           | 10                                   |
| snapshot_id                    | None                                 |
| source_volid                   | None                                 |
| status                         | retyping                             |
| updated_at                     | 2021-01-08T16:23:56.000000           |
| user_id                        | a5a3b146f67447b1abea8f1a929afdce     |
| volume_type                    | solidfire-1                          |
+--------------------------------+--------------------------------------+

+--------------------------------+--------------------------------------+
| Property                       | Value                                |
+--------------------------------+--------------------------------------+
| attached_servers               | []                                   |
| attachment_ids                 | []                                   |
| availability_zone              | nova                                 |
| bootable                       | false                                |
| consistencygroup_id            | None                                 |
| created_at                     | 2021-01-08T16:22:27.000000           |
| description                    | None                                 |
| encrypted                      | False                                |
| id                             | ed841a96-4692-4368-a011-5c792aa47020 |
| metadata                       |                                      |
| migration_status               | success                              |
| multiattach                    | False                                |
| name                           | v1                                   |
| os-vol-host-attr:host          | host1@solidfire-2#solidfire-2        |
| os-vol-mig-status-attr:migstat | success                              |
| os-vol-mig-status-attr:name_id | caa7f059-f2e4-44bc-a6c2-c2fdba41d986 |
| os-vol-tenant-attr:tenant_id   | 08d8fe03a3e74032afd1c4ee665ff2bc     |
| replication_status             | None                                 |
| size                           | 10                                   |
| snapshot_id                    | None                                 |
| source_volid                   | None                                 |
| status                         | available                            |
| updated_at                     | 2021-01-08T16:24:25.000000           |
| user_id                        | a5a3b146f67447b1abea8f1a929afdce     |
| volume_type                    | solidfire-2                          |
+--------------------------------+--------------------------------------+

$ cinder list

+--------------------------------------+-----------+------+------+---------------+----------+-------------+
| ID                                   | Status    | Name | Size | Volume Type   | Bootable | Attached to |
+--------------------------------------+-----------+------+------+---------------+----------+-------------+
| ed841a96-4692-4368-a011-5c792aa47020 | available | v1   | 10   | solidfire-2   | false    |             |
+--------------------------------------+-----------+------+------+---------------+----------+-------------+
</pre></div>
</div>
</section>
</section>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="section_fibre-channel.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Fibre Channel & cinder.conf"></i></a>
          
          
            <a href="unified_driver_ontap/section_cinder-conf-nfs.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: NetApp Unified Driver for ONTAP with NFS"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2024-01-29 21:41</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<p>
 This document is licensed under
 <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://netapp.io/slack/" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
<a href="../../../index.html">
  <button href="#" type="button"
          class="btn docs-sidebar-release-select">NetApp OpenStack Docs 2021.2</button>
</a>

  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <h4></h4>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../ch_executive-summary.html">Executive Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_openstack-overview.html">OpenStack Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_netapp-storage.html">NetApp Systems and Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../appendices/appendix_packaging.html">Installing OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_glance-image-service.html">Image Service (Glance)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_nova.html">Compute Service (Nova)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../ch_cinder.html">Block Storage (Cinder)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview/section_cinder-overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../key_concepts/section_cinder-key-concepts.html">Key Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../process_structure/section_cinder-processes.html">Process Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api_overview/section_cinder-api-overview.html">API Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ch_cinder-theory-and-deployment-choices.html">Theory of Operation and Deployment Choices</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../ch_cinder-configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ch_cinder-examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_manila.html">Shared Filesystems (Manila)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_swift.html">Object Storage (Swift)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_operations.html">Day two operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ch_appendix.html">Appendix</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>NetApp Resources</h3>
        <ul>
          <li><a href="http://netapp.io/openstack/#resources">NetApp OpenStack Resources</a></li>
          <li><a href="http://docs.netapp.com">NetApp documentation</a></li>
          <li><a href="http://www.netapp.com/us/media/tr-4620.pdf">NetApp SolidFire Storage Config Guide</a></li>
          <li><a href="https://mysupport.netapp.com/">NetApp Support</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>News</h3>
        <ul>
          <li><a href="http://netapp.io/blog/">Netapp's thePub</a></li>
          <li><a href="http://planet.openstack.org/">Community Blog</a></li>
          <li><a href="http://openstack.org/news/">Community News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Social Media</h3>
        <ul>
          <li><a href="https://www.github.com/netapp">GitHub</a></li>
          <li><a href="http://netapp.io/slack">Slack</a></li>
          <li><a href="https://twitter.com/@openstacknetapp">Twitter @openstacknetapp</a></li>
          <li><a href="https://www.youtube.com/user/NetAppTV">Youtube NetAppTV</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Legal</h3>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../../../_static/js/jquery-3.1.1.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../../../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../../../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../../../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../../../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "cinder/configuration/cinder_config_files/section_solidfire-conf" + ".rst";
        gitURL = "Source: https://github.com/NetApp-openstack-dev/openstack-docs" + "/" + sourceFile;

    /* gitsha, project, bug_tag and watermark rely on variables in conf.py */
    var gitSha = "SHA: aca313c49ba2deaf791d4629f12b412cca3e3f89";
        var bugProject = "NetApp-openstack-dev/openstack-docs";
        var bugTitle = "NetApp Driver for SolidFire in NetApp OpenStack Docs";
    var fieldTags = "docs, dog";
    var watermark = "BOBCAT"
        var useStoryboard = "";


    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 2021.2 on 2024-01-29 21:41";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags, watermark);
</script>

<script src="../../../_static/documentation_options.js" type="text/javascript"></script>
<script src="../../../_static/sphinx_highlight.js" type="text/javascript"></script>
  </body>
</html>