<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Theory of Operation &amp; Deployment Choices</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="../_static/bespoke.css" type="text/css" />
<link rel="stylesheet" href="../_static/sphinxmark.css" type="text/css" />
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-86037601-2', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>

<!-- SOURCE_FILE: https://github.com/NetApp-openstack-dev/openstack-docs/manila/section_manila-deployment-choices.rst -->

 <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

    _st('install','aDn5L_vgZ2yzRcE893kK','2.0.0');
</script>
<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="https://www.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
         <form class="docs-main-search-form">
    <input type="text" class="st-default-search-input custom-search-box" placeholder="Search OpenStack">
</form>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
           <li>
    <input type="text" class="st-default-search-input custom-search-box-mobile" placeholder="Search OpenStack">
</li>
        </li>
        <li>
          <a href="https://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="https://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="https://docs.openstack.org/">Docs</a>
        </li>
        <li>

</li>


            <li>

                <li class="join-nav-section">
                    <a href="https://www.openstack.org/join/" id="dropdownMenuJoin">Join <i class="fa fa-caret-down"></i></a>
                    <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuJoin" style="display: none;">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/join/register/?membership-type=foundation">Sign up for Foundation Membership</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/join/#sponsor">Sponsor the Foundation</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/foundation">More about the Foundation</a></li>
                    </ul>
                </li>
                <li>
                    <a href="https://www.openstack.org/Security/login/?BackURL=/home/" class="sign-in-btn">Log In</a>
                </li>

            </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>Theory of Operation &amp; Deployment Choices</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="section_manila-api-overview.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: API Overview"></i></a>
    
    
    <a href="section_manila-configuration.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Configuration"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-08-25 19:26</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

<h5><a href="../index.html">Contents</a></h5>
<ul>
<li><a class="reference internal" href="#">Theory of Operation &amp; Deployment Choices</a><ul>
<li><a class="reference internal" href="#construct-mappings-between-manila-and-clustered-data-ontap">Construct Mappings between Manila and Clustered Data ONTAP</a></li>
<li><a class="reference internal" href="#deployment-choice-utilizing-share-servers">Deployment Choice: Utilizing Share Servers</a></li>
<li><a class="reference internal" href="#using-manila-share-types-to-create-a-storage-service-catalog">Using Manila Share Types to Create a Storage Service Catalog</a></li>
</ul>
</li>
</ul>

              </div>
              <div class="docs-body">

  <div class="section" id="theory-of-operation-deployment-choices">
<h1>Theory of Operation &amp; Deployment Choices<a class="headerlink" href="#theory-of-operation-deployment-choices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="construct-mappings-between-manila-and-clustered-data-ontap">
<h2>Construct Mappings between Manila and Clustered Data ONTAP<a class="headerlink" href="#construct-mappings-between-manila-and-clustered-data-ontap" title="Permalink to this headline">¶</a></h2>
<p><strong>Manila backends and Clustered Data ONTAP</strong></p>
<p>Storage Virtual Machines (SVMs, formerly known as Vservers) contain one
or more FlexVol volumes and one or more LIFs through which they serve
data to clients.</p>
<p>SVMs securely isolate the shared virtualized data storage and network,
and each SVM appears as a single dedicated storage virtual machine to
clients. Each SVM has a separate administrator authentication domain and
can be managed independently by its SVM administrator.</p>
<p>In a cluster, SVMs facilitate data access. A cluster must have at least
one SVM to serve data. SVMs use the storage and network resources of the
cluster. However, the shares and LIFs are exclusive to the SVM. Multiple
SVMs can coexist in a single cluster without being bound to any node in
a cluster. However, they are bound to the physical cluster on which they
exist.</p>
<p><strong>Manila shares and FlexVol volumes</strong></p>
<p>Data ONTAP FlexVol volumes (commonly referred to as volumes) and
OpenStack File Share Storage shares (commonly referred to as Manila
shares) are semantically analogous. A FlexVol volume is a container of
logical data elements (for example: files, Snapshot copies, clones,
LUNs, et cetera) that is abstracted from physical elements (for example:
individual disks, and RAID groups).</p>
<p><strong>Manila snapshots versus NetApp Snapshots</strong></p>
<p>A NetApp Snapshot copy is a point-in-time file system image.
Low-overhead NetApp Snapshot copies are made possible by the unique
features of the WAFL storage technology that is part of Data ONTAP. The
high performance of the NetApp Snapshot makes it highly scalable. A
NetApp Snapshot takes only a few seconds to create — typically less than
one second, regardless of the size of the share or the level of activity
on the NetApp storage system. After a Snapshot copy has been created,
changes to data objects are reflected in updates to the current version
of the objects, as if NetApp Snapshot copies did not exist. Meanwhile,
the NetApp Snapshot version of the data remains completely stable. A
NetApp Snapshot incurs no performance overhead; users can comfortably
store up to 255 NetApp Snapshot copies per FlexVol volume, all of which
are accessible as read-only and online versions of the data.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Since NetApp Snapshots are taken at the FlexVol level, they can and
are directly leveraged within an Manila context, as a user of Manila
requests a snapshot be taken of a particular Manila share.</p>
</div>
</div>
<div class="section" id="deployment-choice-utilizing-share-servers">
<h2>Deployment Choice: Utilizing Share Servers<a class="headerlink" href="#deployment-choice-utilizing-share-servers" title="Permalink to this headline">¶</a></h2>
<p>Manila offers the capability for shares to be accessible through
tenant-defined networks (defined within Neutron). This is achieved by
defining a share network object, which provides the relationship to the
Neutron network and subnet from which an IP address should be allocated,
as well as configured on the backend storage (along with the appropriate
segmentation approach (e.g. VLAN, VXLAN, GRE, etc).</p>
<p>Offering this capability to end users places certain requirements on
storage platforms that are integrated with Manila to be able to
dynamically configure themselves. Share servers are an object defined by
Manila that manages the relationship between share networks and shares.
In the case of the reference driver implementation, a share server
corresponds to an actual Nova instance that provides the file system
service, with raw capacity provided through attached Cinder block
storage volumes. In the case of the Manila driver for NetApp clustered
Data ONTAP, a share server corresponds to a storage virtual machine
(SVM), also referred to as a Vserver.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">One share server is created by Manila for each share network that
has shares associated with it.</p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">When deploying Manila with NetApp clustered Data ONTAP without share
server management, NetApp requires that each Manila backend refer to
a single SVM within a cluster through the use of the
<code class="docutils literal"><span class="pre">netapp_vserver</span></code> configuration option.</p>
</div>
<p><strong>With Share Servers</strong></p>
<p>Within the clustered Data ONTAP driver with share server support, a
storage virtual machine will be created for each share server. While
this can provide some advantages with regards to secure multitenancy and
integration with a variety of network services within OpenStack, care
must be taken to ensure that the scale limits are enforced through
Manila quotas. It is a documented best practice to not exceed 200 SVMs
running on a single cluster at any given time to ensure consistent
performance and responsive management operations.</p>
<p><strong>Without Share Servers</strong></p>
<p>With the clustered Data ONTAP driver without share server support, data
LIFs are reused and the provisioning of new Manila shares (i.e. FlexVol
volumes) is limited to the scope of a single SVM.</p>
</div>
<div class="section" id="using-manila-share-types-to-create-a-storage-service-catalog">
<h2>Using Manila Share Types to Create a Storage Service Catalog<a class="headerlink" href="#using-manila-share-types-to-create-a-storage-service-catalog" title="Permalink to this headline">¶</a></h2>
<p>The Storage Service Catalog (SSC) is a concept that describes a set of
capabilities that enables efficient, repeated, and consistent use and
management of storage resources by the definition of policy-based
services and the mapping of those services to the backend storage
technology. It is meant to abstract away the actual technical
implementations of the features at a storage backend into a set of
simplified configuration options.</p>
<p>The storage features are organized or combined into groups based on the
customer needs to achieve a particular scenario or use case. Based on
the catalog of the storage features, intelligent provisioning decisions
are made by infrastructure or software enabling the storage service
catalog. In OpenStack, this is achieved together by the Manila filter
scheduler and the NetApp driver by making use of share type extra-specs
support together with the filter scheduler.</p>
<p>When the NetApp unified driver is used with a clustered Data ONTAP
storage system, you can leverage extra specs with Manila share types to
ensure that Manila shares are created on storage backends that have
certain properties (e.g. thin provisioning, disk type, RAID type)
configured.</p>
<p>Extra specs are associated with Manila share types, so that when users
request shares of a particular share type, they are created on storage
backends that meet the list of requirements (e.g. available space, extra
specs, etc). You can use the specs in
<a class="reference internal" href="#table-6-10"><span class="std std-ref">Table 6.10, “NetApp supported Extra Specs for use with Manila Share Types”</span></a>
later in this section when defining Manila share types with the
<code class="docutils literal"><span class="pre">manila</span> <span class="pre">type-key</span></code> command.</p>
<table border="1" class="docutils" id="table-6-10">
<colgroup>
<col width="10%" />
<col width="3%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Extra spec</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">netapp_aggregate</span></code></td>
<td>String</td>
<td>Limit the candidate aggregate (pool) list to a specific aggregate.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">netapp_raid_type</span></code></td>
<td>String</td>
<td>Limit the candidate aggregate (pool) list based on one of the following raid types: <code class="docutils literal"><span class="pre">raid4</span></code>, <code class="docutils literal"><span class="pre">raid_dp</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">netapp_disk_type</span></code></td>
<td>String</td>
<td>Limit the candidate aggregate (pool) list based on one of the following disk types: <code class="docutils literal"><span class="pre">ATA</span></code>, <code class="docutils literal"><span class="pre">BSAS</span></code>, <code class="docutils literal"><span class="pre">EATA</span></code>, <code class="docutils literal"><span class="pre">FCAL</span></code>, <code class="docutils literal"><span class="pre">FSAS</span></code>, <code class="docutils literal"><span class="pre">LUN</span></code>, <code class="docutils literal"><span class="pre">MSATA</span></code>, <code class="docutils literal"><span class="pre">SAS</span></code>, <code class="docutils literal"><span class="pre">SATA</span></code>, <code class="docutils literal"><span class="pre">SCSI</span></code>, <code class="docutils literal"><span class="pre">XATA</span></code>, <code class="docutils literal"><span class="pre">XSAS</span></code>, or <code class="docutils literal"><span class="pre">SSD</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">netapp_hybrid_aggregate</span></code></td>
<td>Boolean</td>
<td>Limit the candidate aggregate (pool) list to hybrid aggregates.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">netapp:dedup</span></code></td>
<td>Boolean</td>
<td>Enable deduplication on the share. <em>Note that this option is deprecated in favor of the standard Manila extra spec ‘dedupe’.</em></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">dedupe</span></code></td>
<td>String</td>
<td>Enable deduplication on the share. This value should be set to <code class="docutils literal"><span class="pre">&quot;&lt;is&gt;</span> <span class="pre">True&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;&lt;is&gt;</span> <span class="pre">False&quot;</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">netapp:compression</span></code></td>
<td>Boolean</td>
<td>Enable compression on the share. When compression is enabled on a share, deduplication is also automatically enabled on that share. <em>Note that this option is deprecated in favor of the standard Manila extra spec ‘compression’.</em></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">compression</span></code></td>
<td>String</td>
<td>Enable compression on the share. When compression is enabled on a share, deduplication is also automatically enabled on that share. This value should be set to <code class="docutils literal"><span class="pre">&quot;&lt;is&gt;</span> <span class="pre">True&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;&lt;is&gt;</span> <span class="pre">False&quot;</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">netapp:thin_provisioned</span></code></td>
<td>Boolean</td>
<td>Enable thin provisioning (a space guarantee of <code class="docutils literal"><span class="pre">None</span></code>) on the share. <em>Note that this option is deprecated in favor of the standard Manila extra spec ‘thin_provisioning’.</em></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">thin_provisioning</span></code></td>
<td>String</td>
<td>Enable thin provisioning (a space guarantee of <code class="docutils literal"><span class="pre">None</span></code>) on the share. This value should be set to <code class="docutils literal"><span class="pre">&quot;&lt;is&gt;</span> <span class="pre">True&quot;</span></code> or <code class="docutils literal"><span class="pre">&quot;&lt;is&gt;</span> <span class="pre">False&quot;</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">netapp:snapshot_policy</span></code></td>
<td>String</td>
<td>Apply the specified snapshot policy to the created FlexVol volume. <em>Note that the snapshots created by applying a policy will not have corresponding Manila snapshot records.</em></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">netapp:language</span></code></td>
<td>String</td>
<td>Apply the specified language to the FlexVol volume that corresponds to the Manila share. The language of the FlexVol volume determines the character set Data ONTAP uses to display file names and data for that volume. The default value for the language of the volume is the language of the SVM.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">netapp:max_files</span></code></td>
<td>String</td>
<td>Change the maximum number of files for the FlexVol volume that corresponds to the Manila share. By default, the maximum number of files is proportional to the size of the share. This spec can be used to increase the number of files for very large shares (greater than 1TB), or to place a smaller limit on the number of files on a given share.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">netapp:split_clone_on_create</span></code></td>
<td>Boolean</td>
<td>Choose whether a FlexVol volume that corresponds to the Manila share is immediately split from its parent when creating a share from a snapshot. By default, the FlexVol is not split so that no additional space is consumed. Setting this value to ‘true’ may be appropriate for shares that are created from a template share and that will encounter high rates of change.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">snapshot_support</span></code></td>
<td>Boolean</td>
<td>Choose whether to allow the creation of snapshots for a share type.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">create_share_from_snapshot_support</span></code></td>
<td>Boolean</td>
<td>Enable the creation of a share from a snapshot.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">revert_to_snapshot_support</span></code></td>
<td>Boolean</td>
<td>Allow a share to be reverted to the most recent snapshot.</td>
</tr>
</tbody>
</table>
<p>Table 6.10. NetApp supported Extra Specs for use with Manila Share Types</p>
<div class="admonition caution">
<p class="first admonition-title">Caution</p>
<p class="last">When using the Manila driver without share server management, you
can specify a value for the <code class="docutils literal"><span class="pre">netapp_login</span></code> option that only has
SVM administration privileges (rather than cluster administration
privileges); you should note some advanced features of the driver
may not work and you may see warnings in the Manila logs, unless
appropriate permissions are set. See the section called
“<a class="reference internal" href="configuration/section_ontap-config.html#account-perm"><span class="std std-ref">Account Permission Considerations</span></a>” for more details on the required access level
permissions for an SVM admin account.</p>
</div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="section_manila-api-overview.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: API Overview"></i></a>
          
          
            <a href="section_manila-configuration.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Configuration"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-08-25 19:26</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://netapp.io/slack/" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
<a href="../index.html">
  <button href="#" type="button"
          class="btn docs-sidebar-release-select">NetApp OpenStack Docs 0.1</button>
</a>

  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <h4></h4>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ch_executive-summary.html">Executive Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_openstack-overview.html">OpenStack Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_netapp-storage.html">About NetApp Storage Systems and Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_cinder.html">OpenStack Block Storage Service (Cinder)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_glance-image-service.html">OpenStack Image Service (Glance)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ch_manila.html">OpenStack Shared File System Service (Manila)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="section_manila-overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="section_manila-key-concepts.html">Key Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="section_manila-processes.html">Process Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="section_manila-api-overview.html">API Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Theory of Operation &amp; Deployment Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="section_manila-configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="section_manila-examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ch_nova.html">OpenStack Compute Service (Nova)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_swift.html">OpenStack Object Storage Service (Swift)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ch_operations.html">Operational Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/appendix_packaging.html">Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/appendix_debug.html">Troubleshooting</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../_static/js/jquery-3.1.1.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "manila/section_manila-deployment-choices" + ".rst";
        gitURL = "Source: https://github.com/NetApp-openstack-dev/openstack-docs" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 372e5d418b3fc8c80f58028a957ea09046304355";
        var bugProject = "NetApp-openstack-dev/openstack-docs";
        var bugTitle = "Theory of Operation &amp; Deployment Choices in NetApp OpenStack Docs";
    var fieldTags = "docs, dog";
        var useStoryboard = "";


    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.1 on 2017-08-25 19:26";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

  </body>
</html>