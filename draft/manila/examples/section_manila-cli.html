<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <title>OpenStack Docs: Manila Command Line Interface (CLI)</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="../../_static/css/bootstrap.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../../_static/css/native.css" rel="stylesheet">

<!-- Fonts -->
<link href="../../_static/css/font-awesome.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'>

<!-- Custom CSS -->
<link href="../../_static/css/combined.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="../../_static/bespoke.css" type="text/css" />
<link rel="stylesheet" href="../../_static/sphinxmark.css" type="text/css" />
  


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

  </head>
  <body>

<!-- SOURCE_FILE: https://github.com/NetApp-openstack-dev/openstack-docs/manila/examples/section_manila-cli.rst -->

 <script type="text/javascript">
    (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
    })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

    _st('install','aDn5L_vgZ2yzRcE893kK','2.0.0');
</script>
<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="https://www.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
         <form class="docs-main-search-form">
    <input type="text" class="st-default-search-input custom-search-box" placeholder="Search OpenStack">
</form>
        <i class="fa fa-times close-search"></i>
      </div>
      <ul class="nav navbar-nav navbar-main show">
        <li>
           <li>
    <input type="text" class="st-default-search-input custom-search-box-mobile" placeholder="Search OpenStack">
</li>
        </li>
        <li>
          <a href="https://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/">Project Navigator</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/security/">Security</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/start/">Get Started</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/roadmap/">Roadmap</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/latest-release/">Latest Release</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sourcecode/">Source Code</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/user-stories/" class="drop" id="dropdownMenuUsers">Users <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/user-stories/">Overview</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/telecoms-and-nfv/">Telecoms and NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/enterprise/">OpenStack in the Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/appdev/">Application Developers & ISVs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org/">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/foundation/">OpenStack Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://groups.openstack.org">User Groups</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/foundation/companies/">Supporting Companies</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/join/">Join The Community</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/marketplace/">Marketplace</a>
        </li>
        <li>
          <a href="https://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">The OpenStack Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//www.openstack.org/community/events/">More OpenStack Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/events/#openstack_days">OpenStack Days</a></li>
          </ul>
        </li>
        <li>
          <a href="https://www.openstack.org/learn/" class="drop" id="dropdownMenuLearn">Learn <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/coa/">Get Certified</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//ask.openstack.org">Ask a Technical Question</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="//superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/analysts/">Analyst Reports</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/news/">News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/blog/">Blog</a></li>
          </ul>
        </li>
        <li>
          <a href="https://docs.openstack.org/">Docs</a>
        </li>
        <li>

</li>


            <li>

                <li class="join-nav-section">
                    <a href="https://www.openstack.org/join/" id="dropdownMenuJoin">Join <i class="fa fa-caret-down"></i></a>
                    <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuJoin" style="display: none;">
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/join/register/?membership-type=foundation">Sign up for Foundation Membership</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/join/#sponsor">Sponsor the Foundation</a></li>
                        <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/foundation">More about the Foundation</a></li>
                    </ul>
                </li>
                <li>
                    <a href="https://www.openstack.org/Security/login/?BackURL=/home/" class="sign-in-btn">Log In</a>
                </li>

            </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>
    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row">
  <div class="col-lg-8">
      <h2>Manila Command Line Interface (CLI)</h2>
    
  </div>
  <div class="docs-actions">
    
    <a href="section_manila-cdot.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Clustered Data ONTAP"></i></a>
    
    
    <a href="../../ch_nova.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: OpenStack Compute Service (Nova)"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row docs-byline">
            <div class="docs-updated">updated: 2017-08-25 01:54</div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-top-contents">

              </div>
              <div class="docs-body">

  <div class="section" id="manila-command-line-interface-cli">
<h1>Manila Command Line Interface (CLI)<a class="headerlink" href="#manila-command-line-interface-cli" title="Permalink to this headline">¶</a></h1>
<p>In this section, we use the Manila CLI to verify that the configuration
presented in
<a class="reference external" href="#manila.examples.manila_conf.single_svm">section_title</a> has been
properly initialized by Manila.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila service-list
+----+------------------+-------------------------------+------+---------+-------+----------------------------+
| Id | Binary           | Host                          | Zone | Status  | State | Updated_at                 |
+----+------------------+-------------------------------+------+---------+-------+----------------------------+
| 1  | manila-scheduler | scspr0030615001               | nova | enabled | up    | 2015-03-25T12:25:12.000000 |
| 2  | manila-share     | scspr0030615001@cdotSingleSVM | nova | enabled | up    | 2015-03-25T12:25:15.000000 |
+----+------------------+-------------------------------+------+---------+-------+----------------------------+
</pre></div>
</div>
<p>In this section, we create a variety of Manila Share Types that leverage
both the default capabilities of each driver, as well as the NetApp
specific extra specs described in <a class="reference external" href="#manila.netapp.extra_specs">???</a>.</p>
<ul class="simple">
<li>The <code class="docutils literal"><span class="pre">general</span></code> type provisions Manila shares onto the cDOT backend
using all the default settings, including snapshot support.</li>
<li>The <code class="docutils literal"><span class="pre">flash</span></code> type provisions Manila shares onto any pool that
contains only SSD disks within the aggregate.</li>
<li>The <code class="docutils literal"><span class="pre">archive</span></code> type provisions Manila shares onto any pool that
contains SAS drives within the aggregate, and also creates thin
provisioned FlexVol volumes.</li>
<li>The <code class="docutils literal"><span class="pre">default</span></code> type provisions Manila shares onto any pool of any
driver without share server management and snapshot support.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila type-create general False
+--------------------------------------+---------+------------+------------+--------------------------------------+
| ID                                   | Name    | Visibility | is_default | required_extra_specs                 |
+--------------------------------------+---------+------------+------------+--------------------------------------+
| deadeebf-19a2-47b1-9d7f-1c3806cfcb72 | general | public     | -          | driver_handles_share_servers : False |
+--------------------------------------+---------+------------+------------+--------------------------------------+
[stack@scspr0030615001 devstack]$ manila type-create flash False
+--------------------------------------+---------+------------+------------+--------------------------------------+
| ID                                   | Name    | Visibility | is_default | required_extra_specs                 |
+--------------------------------------+---------+------------+------------+--------------------------------------+
| 37fb9f7e-4ffe-4900-8dba-c6d4251e588f | flash   | public     | -          | driver_handles_share_servers : False |
+--------------------------------------+---------+------------+------------+--------------------------------------+
[stack@scspr0030615001 devstack]$ manila type-create archive False
+--------------------------------------+---------+------------+------------+--------------------------------------+
| ID                                   | Name    | Visibility | is_default | required_extra_specs                 |
+--------------------------------------+---------+------------+------------+--------------------------------------+
| 20e4b58d-aab6-42ae-8e9b-8f9d44f17276 | archive | public     | -          | driver_handles_share_servers : False |
+--------------------------------------+---------+------------+------------+--------------------------------------+

**Important**

In the Mitaka and Newton release of OpenStack, snapshot support is
enabled by default for a newly created share type. Starting with the
Ocata release, the ``snapshot_support`` extra spec must be set to
``True`` in order to allow snapshots for a share type. If the
&#39;snapshot\_support&#39; extra\_spec is omitted or if it is set to False,
users would not be able to create snapshots on shares of this share
type.

Other snapshot-related extra specs in the Ocata release (and later)
include:

-  ``create_share_from_snapshot_support``: Allow the creation of a
   new share from a snapshot

-  ``revert_to_snapshot_support``: Allow a share to be reverted to
   the most recent snapshot

If an extra-spec is left unset, it will default to &#39;False&#39;, but a
newly created share may or may not end up on a backend with the
associated capability. Set the extra spec explicitly to ``False``,
if you would like your shares to be created only on backends that do
not support the associated capabilities. For a table of NetApp
supported extra specs, refer to
`??? &lt;#manila.netapp.extra_specs&gt;`__.
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila type-key general set share_backend_name=cdotSingleSVM
[stack@scspr0030615001 devstack]$ manila type-key general set snapshot_support=True
[stack@scspr0030615001 devstack]$ manila type-key general set revert_to_snapshot_support=True
[stack@scspr0030615001 devstack]$ manila type-key general set create_share_from_snapshot_support=True

[stack@scspr0030615001 devstack]$ manila type-key default set snapshot_support=False

[stack@scspr0030615001 devstack]$ manila type-key flash set netapp_disk_type=SSD
[stack@scspr0030615001 devstack]$ manila type-key flash set netapp_hybrid_aggregate=&quot;&lt;is&gt; False&quot;

[stack@scspr0030615001 devstack]$ manila type-key archive set thin_provisioning=&quot;&lt;is&gt; True&quot; netapp_disk_type=SAS

[stack@scspr0030615001 devstack]$ manila extra-specs-list
+--------------------------------------+---------+--------------------------------------------+
| ID                                   | Name    | all_extra_specs                            |
+--------------------------------------+---------+--------------------------------------------+
| 20e4b58d-aab6-42ae-8e9b-8f9d44f17276 | archive | driver_handles_share_servers : False       |
|                                      |         | netapp_disk_type : SAS                     |
|                                      |         | thin_provisioning : &lt;is&gt; True        |
| 37fb9f7e-4ffe-4900-8dba-c6d4251e588f | flash   | netapp_disk_type : SSD                     |
|                                      |         | netapp_hybrid_aggregate : &lt;is&gt; False |
|                                      |         | driver_handles_share_servers : False       |
| 447732be-4cf2-42b0-83dc-4b6f4ed5368d | default | driver_handles_share_servers : False       |
|                                      |         | snapshot_support : False                   |
| deadeebf-19a2-47b1-9d7f-1c3806cfcb72 | general | share_backend_name : cdotSingleSVM         |
|                                      |         | driver_handles_share_servers : False       |
|                                      |         | snapshot_support : True                    |
|                                      |         | revert_to_snapshot_support : True          |
|                                      |         | create_share_from_snapshot_support : True  |
+--------------------------------------+---------+--------------------------------------------+
</pre></div>
</div>
<p>In this section, we create shares with the default type, as well as each
of the previously defined share types.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila create --name myDefault NFS 1
+-------------------+--------------------------------------+
| Property          | Value                                |
+-------------------+--------------------------------------+
| status            | creating                             |
| description       | None                                 |
| availability_zone | nova                                 |
| share_network_id  | None                                 |
| share_server_id   | None                                 |
| host              | None                                 |
| snapshot_id       | None                                 |
| is_public         | False                                |
| snapshot_support  | False                                |
| id                | 63bd5bef-298d-4e49-bea0-49a4cfb143f9 |
| size              | 1                                    |
| name              | myDefault                            |
| share_type        | 447732be-4cf2-42b0-83dc-4b6f4ed5368d |
| created_at        | 2015-03-25T12:44:11.794842           |
| share_proto       | NFS                                  |
| project_id        | 5bf3e15106dd4333b1f55742fa08f90e     |
| metadata          | {}                                   |
+-------------------+--------------------------------------+

[stack@scspr0030615001 devstack]$ manila create --name myGeneral --share-type general NFS 1
+-------------------+--------------------------------------------------------+
| Property          | Value                                                  |
+-------------------+--------------------------------------------------------+
| status                              | creating                             |
| description                         | None                                 |
| availability_zone                   | nova                                 |
| share_network_id                    | None                                 |
| share_server_id                     | None                                 |
| host                                | None                                 |
| snapshot_id                         | None                                 |
| is_public                           | False                                |
| snapshot_support                    | True                                 |
| revert_to_snapshot_support          | True                                 |
| create_share_from_snapshot_support  | True                                 |
| id                                  | 95f49ca6-723f-42d0-92f3-4be79c9ad7e6 |
| size                                | 1                                    |
| name                                | myGeneral                            |
| share_type                          | deadeebf-19a2-47b1-9d7f-1c3806cfcb72 |
| created_at                          | 2015-03-25T12:44:47.223548           |
| share_proto                         | NFS                                  |
| project_id                          | 5bf3e15106dd4333b1f55742fa08f90e     |
| metadata                            | {}                                   |
+-------------------+--------------------------------------------------------+

[stack@scspr0030615001 devstack]$ manila create --name myFlash --share-type flash NFS 1
+-------------------+--------------------------------------+
| Property          | Value                                |
+-------------------+--------------------------------------+
| status            | creating                             |
| description       | None                                 |
| availability_zone | nova                                 |
| share_network_id  | None                                 |
| share_server_id   | None                                 |
| host              | None                                 |
| snapshot_id       | None                                 |
| is_public         | False                                |
| id                | ec5d2ddb-4573-4ee1-a1e8-2c8532c68e3d |
| size              | 1                                    |
| name              | myFlash                              |
| share_type        | 37fb9f7e-4ffe-4900-8dba-c6d4251e588f |
| created_at        | 2015-03-25T12:44:59.374780           |
| share_proto       | NFS                                  |
| project_id        | 5bf3e15106dd4333b1f55742fa08f90e     |
| metadata          | {}                                   |
+-------------------+--------------------------------------+

[stack@scspr0030615001 devstack]$ manila create --name myArchive --share-type archive NFS 1
+-------------------+--------------------------------------+
| Property          | Value                                |
+-------------------+--------------------------------------+
| status            | creating                             |
| description       | None                                 |
| availability_zone | nova                                 |
| share_network_id  | None                                 |
| share_server_id   | None                                 |
| host              | None                                 |
| snapshot_id       | None                                 |
| is_public         | False                                |
| id                | e4774a70-3e70-4a7c-ab76-886f010efe0a |
| size              | 1                                    |
| name              | myArchive                            |
| share_type        | 20e4b58d-aab6-42ae-8e9b-8f9d44f17276 |
| created_at        | 2015-03-25T12:45:11.124722           |
| share_proto       | NFS                                  |
| project_id        | 5bf3e15106dd4333b1f55742fa08f90e     |
| metadata          | {}                                   |
+-------------------+--------------------------------------+
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila list
+--------------------------------------+-----------+------+-------------+-----------+-----------+-----------------+-------------------------------------+-------------------+
| ID                                   | Name      | Size | Share Proto | Status    | Is Public | Share Type Name | Host                                | Availability Zone |
+--------------------------------------+-----------+------+-------------+-----------+-----------+-----------------+-------------------------------------+-------------------+
| 63bd5bef-298d-4e49-bea0-49a4cfb143f9 | myDefault | 1    | NFS         | available | False     | default         | scspr0030615001@cdotSingleSVM#aggr1 | nova              |
| 95f49ca6-723f-42d0-92f3-4be79c9ad7e6 | myGeneral | 1    | NFS         | available | False     | general         | scspr0030615001@cdotSingleSVM#aggr1 | nova              |
| e4774a70-3e70-4a7c-ab76-886f010efe0a | myArchive | 1    | NFS         | available | False     | archive         | scspr0030615001@cdotSingleSVM#aggr1 | nova              |
| ec5d2ddb-4573-4ee1-a1e8-2c8532c68e3d | myFlash   | 1    | NFS         | error     | False     | flash           | None                                | nova              |
+--------------------------------------+-----------+------+-------------+-----------+-----------+-----------------+-------------------------------------+-------------------+
</pre></div>
</div>
<p>We’ll now look at the CLI output from the Data ONTAP cluster to see what
FlexVol volumes were created for the Manila share objects, as well as
the provisioning strategy (thin or thick) for each share. Note how the
name of the FlexVol volume corresponds to the share UUID as defined by
Manila. You can see that share <code class="docutils literal"><span class="pre">e4774a70_3e70_4a7c_ab76_886f010efe0a</span></code>
was thin provisioned, as declared by the <code class="docutils literal"><span class="pre">archive</span></code> share type. The
rest of the shares were thick provisioned. Also note that the share of
type <code class="docutils literal"><span class="pre">myFlash</span></code> failed to create, as this SVM does not have any
aggregates with SSD drives, as seen in the command output below.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">::</span><span class="o">&gt;</span> <span class="n">volume</span> <span class="n">show</span> <span class="o">-</span><span class="n">vserver</span> <span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
<span class="n">Vserver</span>   <span class="n">Volume</span>       <span class="n">Aggregate</span>    <span class="n">State</span>      <span class="n">Type</span>       <span class="n">Size</span>  <span class="n">Available</span> <span class="n">Used</span><span class="o">%</span>
<span class="o">---------</span> <span class="o">------------</span> <span class="o">------------</span> <span class="o">----------</span> <span class="o">----</span> <span class="o">----------</span> <span class="o">----------</span> <span class="o">-----</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">share_63bd5bef_298d_4e49_bea0_49a4cfb143f9</span>
                       <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>          <span class="mi">1</span><span class="n">GB</span>    <span class="mf">972.7</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">share_95f49ca6_723f_42d0_92f3_4be79c9ad7e6</span>
                       <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>          <span class="mi">1</span><span class="n">GB</span>    <span class="mf">972.7</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">share_e4774a70_3e70_4a7c_ab76_886f010efe0a</span>
                       <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>          <span class="mi">1</span><span class="n">GB</span>    <span class="mf">972.7</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">vol1</span>         <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>         <span class="mi">20</span><span class="n">MB</span>    <span class="mf">18.88</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>
<span class="mi">4</span> <span class="n">entries</span> <span class="n">were</span> <span class="n">displayed</span><span class="o">.</span>

<span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">::</span><span class="o">&gt;</span>

<span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">::</span><span class="o">&gt;</span> <span class="n">volume</span> <span class="n">show</span> <span class="o">-</span><span class="n">vserver</span> <span class="n">manila</span><span class="o">-</span><span class="n">vserver</span> <span class="o">-</span><span class="n">space</span><span class="o">-</span><span class="n">guarantee</span> <span class="n">none</span>
<span class="n">Vserver</span>   <span class="n">Volume</span>       <span class="n">Aggregate</span>    <span class="n">State</span>      <span class="n">Type</span>       <span class="n">Size</span>  <span class="n">Available</span> <span class="n">Used</span><span class="o">%</span>
<span class="o">---------</span> <span class="o">------------</span> <span class="o">------------</span> <span class="o">----------</span> <span class="o">----</span> <span class="o">----------</span> <span class="o">----------</span> <span class="o">-----</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">share_e4774a70_3e70_4a7c_ab76_886f010efe0a</span>
                       <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>          <span class="mi">1</span><span class="n">GB</span>    <span class="mf">972.7</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>

<span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">::</span><span class="o">&gt;</span> <span class="n">volume</span> <span class="n">show</span> <span class="o">-</span><span class="n">vserver</span> <span class="n">manila</span><span class="o">-</span><span class="n">vserver</span> <span class="o">-</span><span class="n">space</span><span class="o">-</span><span class="n">guarantee</span> <span class="n">volume</span>
<span class="n">Vserver</span>   <span class="n">Volume</span>       <span class="n">Aggregate</span>    <span class="n">State</span>      <span class="n">Type</span>       <span class="n">Size</span>  <span class="n">Available</span> <span class="n">Used</span><span class="o">%</span>
<span class="o">---------</span> <span class="o">------------</span> <span class="o">------------</span> <span class="o">----------</span> <span class="o">----</span> <span class="o">----------</span> <span class="o">----------</span> <span class="o">-----</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">share_63bd5bef_298d_4e49_bea0_49a4cfb143f9</span>
                       <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>          <span class="mi">1</span><span class="n">GB</span>    <span class="mf">972.7</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">share_95f49ca6_723f_42d0_92f3_4be79c9ad7e6</span>
                       <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>          <span class="mi">1</span><span class="n">GB</span>    <span class="mf">972.7</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>
<span class="n">manila</span><span class="o">-</span><span class="n">vserver</span>
          <span class="n">vol1</span>         <span class="n">aggr1</span>        <span class="n">online</span>     <span class="n">RW</span>         <span class="mi">20</span><span class="n">MB</span>    <span class="mf">18.88</span><span class="n">MB</span>    <span class="mi">5</span><span class="o">%</span>
<span class="mi">3</span> <span class="n">entries</span> <span class="n">were</span> <span class="n">displayed</span><span class="o">.</span>

<span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">::</span><span class="o">&gt;</span>

<span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">::</span><span class="o">&gt;</span> <span class="n">disk</span> <span class="n">show</span> <span class="o">-</span><span class="nb">type</span> <span class="n">SSD</span>
<span class="n">There</span> <span class="n">are</span> <span class="n">no</span> <span class="n">entries</span> <span class="n">matching</span> <span class="n">your</span> <span class="n">query</span><span class="o">.</span>
</pre></div>
</div>
<p>We’ll now add access rules for any IP-connected client to mount these
NFS shares with full read/write privileges.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila access-allow 63bd5bef-298d-4e49-bea0-49a4cfb143f9 ip 0.0.0.0/0
+--------------+--------------------------------------+
| Property     | Value                                |
+--------------+--------------------------------------+
| share_id     | 63bd5bef-298d-4e49-bea0-49a4cfb143f9 |
| deleted      | False                                |
| created_at   | 2015-03-25T13:25:24.577736           |
| updated_at   | None                                 |
| access_type  | ip                                   |
| access_to    | 0.0.0.0/0                            |
| access_level | rw                                   |
| state        | new                                  |
| deleted_at   | None                                 |
| id           | c400bdd7-7e4f-49a4-b73d-5aa417af95c3 |
+--------------+--------------------------------------+
[stack@scspr0030615001 devstack]$ manila access-allow 95f49ca6-723f-42d0-92f3-4be79c9ad7e6 ip 0.0.0.0/0
+--------------+--------------------------------------+
| Property     | Value                                |
+--------------+--------------------------------------+
| share_id     | 95f49ca6-723f-42d0-92f3-4be79c9ad7e6 |
| deleted      | False                                |
| created_at   | 2015-03-25T13:25:47.417271           |
| updated_at   | None                                 |
| access_type  | ip                                   |
| access_to    | 0.0.0.0/0                            |
| access_level | rw                                   |
| state        | new                                  |
| deleted_at   | None                                 |
| id           | 09f8f699-1cec-4519-8aaa-a30d346ad54c |
+--------------+--------------------------------------+
[stack@scspr0030615001 devstack]$ manila access-allow e4774a70-3e70-4a7c-ab76-886f010efe0a ip 0.0.0.0/0
+--------------+--------------------------------------+
| Property     | Value                                |
+--------------+--------------------------------------+
| share_id     | e4774a70-3e70-4a7c-ab76-886f010efe0a |
| deleted      | False                                |
| created_at   | 2015-03-25T13:26:03.344004           |
| updated_at   | None                                 |
| access_type  | ip                                   |
| access_to    | 0.0.0.0/0                            |
| access_level | rw                                   |
| state        | new                                  |
| deleted_at   | None                                 |
| id           | d0565115-8369-455e-ad8f-3dd7c56037ea |
+--------------+--------------------------------------+
</pre></div>
</div>
<p>We’ll now list the export location(s) for one of the new shares to see
its network path. There may be multiple export locations for a given
share, at least one of which should be listed as preferred; clients
should use the preferred path for optimum performance.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila share-export-location-list 63bd5bef-298d-4e49-bea0-49a4cfb143f9 --columns Path,Preferred
+-------------------------------------------------------------+-----------+
| Path                                                        | Preferred |
+-------------------------------------------------------------+-----------+
| 192.168.228.110:/share_6fae2eb7_9eea_4a0f_b215_1f405dbcc4d4 | True      |
+-------------------------------------------------------------+-----------+
</pre></div>
</div>
<p>As previously noted, creation of a CIFS share requires the co-deployment
of one of three security services (LDAP, Active Directory, or Kerberos).
This section demonstrates the share network and security service setup
necessary before creating the CIFS share.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">manila</span> <span class="n">share</span><span class="o">-</span><span class="n">network</span><span class="o">-</span><span class="n">create</span> <span class="o">--</span><span class="n">neutron</span><span class="o">-</span><span class="n">net</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="n">neutron</span><span class="o">-</span><span class="n">net</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">neutron</span><span class="o">-</span><span class="n">subnet</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="n">neutron</span><span class="o">-</span><span class="n">subnet</span><span class="o">-</span><span class="nb">id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">share_network_name</span><span class="o">&gt;</span>

<span class="n">manila</span> <span class="n">security</span><span class="o">-</span><span class="n">service</span><span class="o">-</span><span class="n">create</span> <span class="n">active_directory</span> <span class="o">--</span><span class="n">dns</span><span class="o">-</span><span class="n">ip</span> <span class="o">&lt;</span><span class="n">dns_ip</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">domain</span> <span class="o">&lt;</span><span class="n">dns_domain</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">user</span> <span class="o">&lt;</span><span class="n">user_name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">password</span> <span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">security_service_name</span><span class="o">&gt;</span>

<span class="o">+-------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">Property</span>    <span class="o">|</span> <span class="n">Value</span>                                <span class="o">|</span>
<span class="o">+-------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">status</span>      <span class="o">|</span> <span class="n">new</span>                                  <span class="o">|</span>
<span class="o">|</span> <span class="n">domain</span>      <span class="o">|</span> <span class="n">stack1</span><span class="o">.</span><span class="n">netapp</span><span class="o">.</span><span class="n">com</span>                    <span class="o">|</span>
<span class="o">|</span> <span class="n">password</span>    <span class="o">|</span> <span class="n">secrete</span>                              <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>        <span class="o">|</span> <span class="n">ac10</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">dns_ip</span>      <span class="o">|</span> <span class="mf">10.250</span><span class="o">.</span><span class="n">XXX</span><span class="o">.</span><span class="n">XXX</span>                       <span class="o">|</span>
<span class="o">|</span> <span class="n">created_at</span>  <span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">15</span><span class="n">T19</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">19.309255</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">updated_at</span>  <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">server</span>      <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">user</span>        <span class="o">|</span> <span class="n">Administrator</span>                        <span class="o">|</span>
<span class="o">|</span> <span class="n">project_id</span>  <span class="o">|</span> <span class="n">b568323d304046d8a8abaa8e822f17e3</span>     <span class="o">|</span>
<span class="o">|</span> <span class="nb">type</span>        <span class="o">|</span> <span class="n">active_directory</span>                     <span class="o">|</span>
<span class="o">|</span> <span class="nb">id</span>          <span class="o">|</span> <span class="mi">259</span><span class="n">a203d</span><span class="o">-</span><span class="mf">9e11</span><span class="o">-</span><span class="mi">49</span><span class="n">cd</span><span class="o">-</span><span class="mi">83</span><span class="n">d7</span><span class="o">-</span><span class="n">e5c986c01221</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">description</span> <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">+-------------+--------------------------------------+</span>

<span class="n">manila</span> <span class="n">share</span><span class="o">-</span><span class="n">network</span><span class="o">-</span><span class="n">security</span><span class="o">-</span><span class="n">service</span><span class="o">-</span><span class="n">add</span> <span class="o">&lt;</span><span class="n">share_network</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">security_service</span><span class="o">&gt;</span>

<span class="n">manila</span> <span class="n">create</span> <span class="n">CIFS</span> <span class="mi">1</span> <span class="o">--</span><span class="n">share</span><span class="o">-</span><span class="n">network</span> <span class="o">&lt;</span><span class="n">share_network_name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">share</span><span class="o">-</span><span class="nb">type</span> <span class="n">general</span>

<span class="o">+-----------------------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">Property</span>                    <span class="o">|</span> <span class="n">Value</span>                                <span class="o">|</span>
<span class="o">+-----------------------------+--------------------------------------+</span>
<span class="o">|</span> <span class="n">status</span>                      <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">share_type_name</span>             <span class="o">|</span> <span class="n">general</span>                              <span class="o">|</span>
<span class="o">|</span> <span class="n">description</span>                 <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">availability_zone</span>           <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">share_network_id</span>            <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">share_server_id</span>             <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">host</span>                        <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">snapshot_id</span>                 <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">is_public</span>                   <span class="o">|</span> <span class="kc">False</span>                                <span class="o">|</span>
<span class="o">|</span> <span class="n">task_state</span>                  <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">snapshot_support</span>            <span class="o">|</span> <span class="kc">True</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="nb">id</span>                          <span class="o">|</span> <span class="mi">4</span><span class="n">b4e512a</span><span class="o">-</span><span class="n">a1dd</span><span class="o">-</span><span class="mf">45e6</span><span class="o">-</span><span class="n">a6c2</span><span class="o">-</span><span class="mi">5</span><span class="n">eed978a29f0</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">size</span>                        <span class="o">|</span> <span class="mi">1</span>                                    <span class="o">|</span>
<span class="o">|</span> <span class="n">name</span>                        <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">share_type</span>                  <span class="o">|</span> <span class="n">deadeebf</span><span class="o">-</span><span class="mi">19</span><span class="n">a2</span><span class="o">-</span><span class="mi">47</span><span class="n">b1</span><span class="o">-</span><span class="mi">9</span><span class="n">d7f</span><span class="o">-</span><span class="mi">1</span><span class="n">c3806cfcb72</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">created_at</span>                  <span class="o">|</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">19</span><span class="n">T15</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mf">30.314544</span>           <span class="o">|</span>
<span class="o">|</span> <span class="n">share_proto</span>                 <span class="o">|</span> <span class="n">CIFS</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">consistency_group_id</span>        <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">source_cgsnapshot_member_id</span> <span class="o">|</span> <span class="kc">None</span>                                 <span class="o">|</span>
<span class="o">|</span> <span class="n">project_id</span>                  <span class="o">|</span> <span class="n">b568323d304046d8a8abaa8e822f17e3</span>     <span class="o">|</span>
<span class="o">|</span> <span class="n">metadata</span>                    <span class="o">|</span> <span class="p">{}</span>                                   <span class="o">|</span>
<span class="o">+-----------------------------+--------------------------------------+</span>
</pre></div>
</div>
<p>In this section, we use the admin-only <code class="docutils literal"><span class="pre">manage</span></code> command to bring
storage resources under Manila management. A share is a Data ONTAP
FlexVol, and we must tell Manila which host, backend and pool contain
the FlexVol. It may be useful to list the Manila pools to get the
correct format. Also note that the FlexVol must be specified in the
format Manila uses to report share export locations. For NFS this format
is <code class="docutils literal"><span class="pre">address:/path</span></code>, where <code class="docutils literal"><span class="pre">address</span></code> is that of any NFS LIF where the
FlexVol is accessible and <code class="docutils literal"><span class="pre">path</span></code> is the junction path of the FlexVol.
For CIFS this format is <code class="docutils literal"><span class="pre">\\address\name</span></code>, where <code class="docutils literal"><span class="pre">address</span></code> is that of
any CIFS LIF where the FlexVol is accessible and <code class="docutils literal"><span class="pre">name</span></code> is the name of
the FlexVol.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila pool-list
+-------------------------------------+---------+----------------------+--------+
| Name                                | Host    | Backend              | Pool   |
+-------------------------------------+---------+----------------------+--------+
| liberty@cmode_single_svm_nfs#manila | liberty | cmode_single_svm_nfs | manila |
+-------------------------------------+---------+----------------------+--------+
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila manage liberty@cmode_single_svm_nfs#manila NFS 192.168.228.102:/myvol
+-------------------+--------------------------------------+
| Property          | Value                                |
+-------------------+--------------------------------------+
| status            | manage_starting                      |
| description       | None                                 |
| availability_zone | None                                 |
| share_network_id  | None                                 |
| export_locations  | 192.168.228.102:/myvol               |
| share_server_id   | None                                 |
| host              | liberty@cmode_single_svm_nfs#manila  |
| snapshot_id       | None                                 |
| is_public         | False                                |
| snapshot_support  | False                                |
| id                | 6e42c910-67a8-47fd-885f-b03d1756675f |
| size              | None                                 |
| name              | None                                 |
| share_type        | default                              |
| created_at        | 2015-08-13T20:27:09.000000           |
| share_proto       | NFS                                  |
| project_id        | 75dbed01579f4a7e8df2878de25fbc49     |
| metadata          | {}                                   |
+-------------------+--------------------------------------+
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila show 6e42c910-67a8-47fd-885f-b03d1756675f
+-------------------+-------------------------------------------------------------+
| Property          | Value                                                       |
+-------------------+-------------------------------------------------------------+
| status            | available                                                   |
| description       | None                                                        |
| availability_zone | None                                                        |
| share_network_id  | None                                                        |
| export_locations  | 192.168.228.102:/share_6e42c910_67a8_47fd_885f_b03d1756675f |
|                   | 10.0.0.100:/share_6e42c910_67a8_47fd_885f_b03d1756675f      |
| share_server_id   | None                                                        |
| host              | liberty@cmode_single_svm_nfs#manila                         |
| snapshot_id       | None                                                        |
| is_public         | False                                                       |
| snapshot_support  | False                                                       |
| id                | 6e42c910-67a8-47fd-885f-b03d1756675f                        |
| size              | 1                                                           |
| name              | None                                                        |
| share_type        | default                                                     |
| created_at        | 2015-08-13T20:27:09.000000                                  |
| share_proto       | NFS                                                         |
| project_id        | 75dbed01579f4a7e8df2878de25fbc49                            |
| metadata          | {}                                                          |
+-------------------+-------------------------------------------------------------+


**Important**

FlexVols that are part of a snapmirror relationship cannot be
brought under Manila&#39;s management. Snapmirror relationships must be
removed before attempting to ``manage`` the FlexVol.
</pre></div>
</div>
<p>We’ll now remove a share from Manila management using the admin-only
<code class="docutils literal"><span class="pre">unmanage</span></code> CLI command.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>[stack@scspr0030615001 devstack]$ manila unmanage 6e42c910-67a8-47fd-885f-b03d1756675f
</pre></div>
</div>
<p>In this section, we’ll create and work with consistency groups and
consistency group (CG) snapshots. First we’ll list the share types and
create a CG using one of the existing types.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila type-list
+--------------------------------------+---------+------------+------------+--------------------------------------+
| ID                                   | Name    | Visibility | is_default | required_extra_specs                 |
+--------------------------------------+---------+------------+------------+--------------------------------------+
| 08d3b20f-3685-4f83-ba4f-efe9276e922c | zoom    | public     | -          | driver_handles_share_servers : False |
| 30abd1a6-0f5f-426b-adb4-13e0062d3183 | default | public     | YES        | driver_handles_share_servers : False |
| d7f70347-7464-4297-8d8e-12fa13e64775 | nope    | public     | -          | driver_handles_share_servers : False |
+--------------------------------------+---------+------------+------------+--------------------------------------+

$ manila cg-create --name cg_1 --description &quot;cg_1 consistency group&quot; --share_type &quot;type_1&quot;
+----------------------+--------------------------------------+
| Property             | Value                                |
+----------------------+--------------------------------------+
| status               | creating                             |
| description          | cg_1 consistency group               |
| source_cgsnapshot_id | None                                 |
| created_at           | 2015-08-18T17:36:36.088532           |
| share_network_id     | None                                 |
| share_server_id      | None                                 |
| host                 | None                                 |
| project_id           | f55f22cc74b347f6992a9f969eeb40a1     |
| share_types          | 45ff1d79-0dd7-4309-b259-652c5f9e3b41 |
| id                   | 9379f22c-a5c0-4455-bd25-ad373e93d7c3 |
| name                 | cg_1                                 |
+----------------------+--------------------------------------+

$ manila cg-list
+--------------------------------------+------+------------------------+-----------+
| id                                   | name | description            | status    |
+--------------------------------------+------+------------------------+-----------+
| 9379f22c-a5c0-4455-bd25-ad373e93d7c3 | cg_1 | cg_1 consistency group | available |
+--------------------------------------+------+------------------------+-----------+

$ manila cg-show 9379f22c-a5c0-4455-bd25-ad373e93d7c3
+----------------------+--------------------------------------+
| Property             | Value                                |
+----------------------+--------------------------------------+
| status               | available                            |
| description          | cg_1 consistency group               |
| source_cgsnapshot_id | None                                 |
| created_at           | 2015-08-18T17:36:36.000000           |
| share_network_id     | None                                 |
| share_server_id      | None                                 |
| host                 | ubuntu@cmode_single_svm_nfs#aggr1    |
| project_id           | f55f22cc74b347f6992a9f969eeb40a1     |
| share_types          | 45ff1d79-0dd7-4309-b259-652c5f9e3b41 |
| id                   | 9379f22c-a5c0-4455-bd25-ad373e93d7c3 |
| name                 | cg_1                                 |
+----------------------+--------------------------------------+
</pre></div>
</div>
<p>Next we’ll create two shares in the new consistency group.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila create --name share_1 --consistency-group &quot;cg_1&quot; --share_type &quot;type_1&quot; NFS 1
+-----------------------------+--------------------------------------+
| Property                    | Value                                |
+-----------------------------+--------------------------------------+
| status                      | creating                             |
| description                 | None                                 |
| availability_zone           | nova                                 |
| share_network_id            | None                                 |
| share_server_id             | None                                 |
| host                        | None                                 |
| snapshot_id                 | None                                 |
| is_public                   | False                                |
| id                          | 01eab865-a15b-4443-84e9-68b9c5fc3634 |
| size                        | 1                                    |
| name                        | None                                 |
| share_type                  | type_1                               |
| created_at                  | 2015-08-18T17:40:16.996290           |
| share_proto                 | NFS                                  |
| consistency_group_id        | 9379f22c-a5c0-4455-bd25-ad373e93d7c3 |
| source_cgsnapshot_member_id | None                                 |
| project_id                  | f55f22cc74b347f6992a9f969eeb40a1     |
| metadata                    | {}                                   |
+-----------------------------+--------------------------------------+

$ manila create --name share_2 --consistency-group &quot;cg_1&quot; --share_type &quot;type_1&quot; NFS 1
+-----------------------------+--------------------------------------+
| Property                    | Value                                |
+-----------------------------+--------------------------------------+
| status                      | creating                             |
| description                 | None                                 |
| availability_zone           | nova                                 |
| share_network_id            | None                                 |
| share_server_id             | None                                 |
| host                        | None                                 |
| snapshot_id                 | None                                 |
| is_public                   | False                                |
| id                          | f60520d9-73e4-4755-a4e7-cec027d0dbad |
| size                        | 1                                    |
| name                        | share_2                              |
| share_type                  | type_1                               |
| created_at                  | 2015-08-18T17:44:48.290880           |
| share_proto                 | NFS                                  |
| consistency_group_id        | 9379f22c-a5c0-4455-bd25-ad373e93d7c3 |
| source_cgsnapshot_member_id | None                                 |
| project_id                  | f55f22cc74b347f6992a9f969eeb40a1     |
| metadata                    | {}                                   |
+-----------------------------+--------------------------------------+
</pre></div>
</div>
<p>Next we’ll create two CG snapshots of the new consistency group.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila cg-snapshot-create --name snapshot_1 --description &#39;first snapshot of cg-1&#39; &#39;cg_1&#39;
+----------------------+--------------------------------------+
| Property             | Value                                |
+----------------------+--------------------------------------+
| status               | creating                             |
| name                 | snapshot_1                           |
| created_at           | 2015-08-18T17:49:11.441552           |
| consistency_group_id | 9379f22c-a5c0-4455-bd25-ad373e93d7c3 |
| project_id           | f55f22cc74b347f6992a9f969eeb40a1     |
| id                   | 9fc2c246-b5dc-4cae-97b5-f136aff6abdc |
| description          | first snapshot of cg-1               |
+----------------------+--------------------------------------+

$ manila cg-snapshot-list
+--------------------------------------+------------+------------------------+-----------+
| id                                   | name       | description            | status    |
+--------------------------------------+------------+------------------------+-----------+
| 9fc2c246-b5dc-4cae-97b5-f136aff6abdc | snapshot_1 | first snapshot of cg-1 | available |
+--------------------------------------+------------+------------------------+-----------+

$ manila cg-snapshot-show &#39;snapshot_1&#39;
+----------------------+--------------------------------------+
| Property             | Value                                |
+----------------------+--------------------------------------+
| status               | available                            |
| name                 | snapshot_1                           |
| created_at           | 2015-08-18T17:49:12.000000           |
| consistency_group_id | 9379f22c-a5c0-4455-bd25-ad373e93d7c3 |
| project_id           | f55f22cc74b347f6992a9f969eeb40a1     |
| id                   | 9fc2c246-b5dc-4cae-97b5-f136aff6abdc |
| description          | first snapshot of cg-1               |
+----------------------+--------------------------------------+

$ manila cg-snapshot-create --name snapshot_2 --description &#39;second snapshot of cg-1&#39; &#39;cg_1&#39;
+----------------------+--------------------------------------+
| Property             | Value                                |
+----------------------+--------------------------------------+
| status               | creating                             |
| name                 | snapshot_2                           |
| created_at           | 2015-08-18T17:51:01.319632           |
| consistency_group_id | 9379f22c-a5c0-4455-bd25-ad373e93d7c3 |
| project_id           | f55f22cc74b347f6992a9f969eeb40a1     |
| id                   | c671dcc5-10bf-4445-b96e-b12723ade738 |
| description          | second snapshot of cg-1              |
+----------------------+--------------------------------------+

$ manila cg-snapshot-list
+--------------------------------------+------------+-------------------------+-----------+
| id                                   | name       | description             | status    |
+--------------------------------------+------------+-------------------------+-----------+
| 9fc2c246-b5dc-4cae-97b5-f136aff6abdc | snapshot_1 | first snapshot of cg-1  | available |
| c671dcc5-10bf-4445-b96e-b12723ade738 | snapshot_2 | second snapshot of cg-1 | available |
+--------------------------------------+------------+-------------------------+-----------+
</pre></div>
</div>
<p>Finally we’ll create a new CG from one of the CG snapshots we created
above.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila cg-create --name cg_3 --source-cgsnapshot-id 9fc2c246-b5dc-4cae-97b5-f136aff6abdc
+----------------------+--------------------------------------+
| Property             | Value                                |
+----------------------+--------------------------------------+
| status               | creating                             |
| description          | None                                 |
| source_cgsnapshot_id | 9fc2c246-b5dc-4cae-97b5-f136aff6abdc |
| created_at           | 2015-08-18T19:26:46.419836           |
| share_network_id     | None                                 |
| share_server_id      | None                                 |
| host                 | ubuntu@cmode_single_svm_nfs#aggr1    |
| project_id           | f55f22cc74b347f6992a9f969eeb40a1     |
| share_types          | 45ff1d79-0dd7-4309-b259-652c5f9e3b41 |
| id                   | d4a282dc-d28d-4d51-b0b0-64766cc099c6 |
| name                 | cg_3                                 |
+----------------------+--------------------------------------+
</pre></div>
</div>
<p>In this section, we’ll create and work with share replicas. First we’ll
create a share type that supports replication.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila type-create replication false
+----------------------+--------------------------------------+
| Property             | Value                                |
+----------------------+--------------------------------------+
| required_extra_specs | driver_handles_share_servers : False |
| Name                 | replication                          |
| Visibility           | public                               |
| is_default           | -                                    |
| ID                   | ce1709ef-0b20-4cbf-9fc0-2b75adfee9b8 |
+----------------------+--------------------------------------+

$ manila type-key replication set replication_type=dr snapshot_support=True
</pre></div>
</div>
<p>Next we’ll create a share.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila create NFS 1 --share-type replication
+-----------------------------+--------------------------------------+
| Property                    | Value                                |
+-----------------------------+--------------------------------------+
| status                      | creating                             |
| share_type_name             | replication                          |
| description                 | None                                 |
| availability_zone           | None                                 |
| share_network_id            | None                                 |
| share_server_id             | None                                 |
| host                        |                                      |
| access_rules_status         | active                               |
| snapshot_id                 | None                                 |
| is_public                   | False                                |
| task_state                  | None                                 |
| snapshot_support            | True                                 |
| id                          | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc |
| size                        | 1                                    |
| name                        | None                                 |
| share_type                  | ce1709ef-0b20-4cbf-9fc0-2b75adfee9b8 |
| has_replicas                | False                                |
| replication_type            | dr                                   |
| created_at                  | 2016-03-23T18:16:22.000000           |
| share_proto                 | NFS                                  |
| consistency_group_id        | None                                 |
| source_cgsnapshot_member_id | None                                 |
| project_id                  | 3d1d93550b1448f094389d6b5df9659e     |
| metadata                    | {}                                   |
+-----------------------------+--------------------------------------+

manila show f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc
+-----------------------------+-------------------------------------------------------------------+
| Property                    | Value                                                             |
+-----------------------------+-------------------------------------------------------------------+
| status                      | available                                                         |
| share_type_name             | replication                                                       |
| description                 | None                                                              |
| availability_zone           | nova                                                              |
| share_network_id            | None                                                              |
| export_locations            |                                                                   |
|                             | path = 172.20.124.230:/share_11265e8a_200c_4e0a_a40f_b7a1117001ed |
|                             | preferred = True                                                  |
|                             | is_admin_only = False                                             |
|                             | id = d9634102-e859-42ab-842e-687c209067e3                         |
|                             | share_instance_id = 11265e8a-200c-4e0a-a40f-b7a1117001ed          |
| share_server_id             | None                                                              |
| host                        | openstack2@cmodeSSVMNFS#aggr3                                     |
| access_rules_status         | active                                                            |
| snapshot_id                 | None                                                              |
| is_public                   | False                                                             |
| task_state                  | None                                                              |
| snapshot_support            | True                                                              |
| id                          | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc                              |
| size                        | 1                                                                 |
| name                        | None                                                              |
| share_type                  | ce1709ef-0b20-4cbf-9fc0-2b75adfee9b8                              |
| has_replicas                | False                                                             |
| replication_type            | dr                                                                |
| created_at                  | 2016-03-23T18:16:22.000000                                        |
| share_proto                 | NFS                                                               |
| consistency_group_id        | None                                                              |
| source_cgsnapshot_member_id | None                                                              |
| project_id                  | 3d1d93550b1448f094389d6b5df9659e                                  |
| metadata                    | {}                                                                |
+-----------------------------+-------------------------------------------------------------------+
</pre></div>
</div>
<p>When a share is created with a share type that has the replication_type
extra spec, it will be treated as the primary/’active’ replica. Let’s
list the replicas.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila share-replica-list --share-id f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| ID                                   | Status    | Replica State | Share ID                             | Host                                | Availability Zone | Updated At                 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| 11265e8a-200c-4e0a-a40f-b7a1117001ed | available | active        | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS#aggr3       | nova              | 2016-03-23T18:16:34.000000 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
</pre></div>
</div>
<p>Next we’ll create a replica of the share.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila share-replica-create f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc
+-------------------+--------------------------------------+
| Property          | Value                                |
+-------------------+--------------------------------------+
| status            | creating                             |
| share_id          | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc |
| availability_zone | None                                 |
| created_at        | 2016-03-23T18:19:13.712615           |
| updated_at        | None                                 |
| share_network_id  | None                                 |
| share_server_id   | None                                 |
| host              |                                      |
| replica_state     | None                                 |
| id                | b3191744-cee9-478b-b906-c5a7a3934adb |
+-------------------+--------------------------------------+

manila share-replica-show b3191744-cee9-478b-b906-c5a7a3934adb
+-------------------+--------------------------------------+
| Property          | Value                                |
+-------------------+--------------------------------------+
| status            | available                            |
| share_id          | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc |
| availability_zone | nova                                 |
| created_at        | 2016-03-23T18:19:13.000000           |
| updated_at        | 2016-03-23T18:19:23.000000           |
| share_network_id  | None                                 |
| share_server_id   | None                                 |
| host              | openstack2@cmodeSSVMNFS2#aggr4       |
| replica_state     | out_of_sync                          |
| id                | b3191744-cee9-478b-b906-c5a7a3934adb |
+-------------------+--------------------------------------+
</pre></div>
</div>
<p>Now we will list the replicas for the share. As you can see, the active
replica is located on the pool <a class="reference external" href="mailto:'openstack2&#37;&#52;&#48;cmodeSSVMNFS#aggr3">‘openstack2<span>&#64;</span>cmodeSSVMNFS#aggr3</a>’ and the
new replica is located on <a class="reference external" href="mailto:'openstack2&#37;&#52;&#48;cmodeSSVMNFS2#aggr4">‘openstack2<span>&#64;</span>cmodeSSVMNFS2#aggr4</a>’. The new
replica has a replica state of ‘out_of_sync’, this means that the
share data has not been synchronized within the replication window,
which is one hour for the cDOT driver.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila share-replica-list --share-id f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| ID                                   | Status    | Replica State | Share ID                             | Host                                | Availability Zone | Updated At                 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| 11265e8a-200c-4e0a-a40f-b7a1117001ed | available | active        | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS#aggr3       | nova              | 2016-03-23T18:16:34.000000 |
| b3191744-cee9-478b-b906-c5a7a3934adb | available | out_of_sync   | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS2#aggr4      | nova              | 2016-03-23T18:19:23.000000 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
</pre></div>
</div>
<p>Manila checks the status of a replica based on the
<code class="docutils literal"><span class="pre">replica_state_update_interval</span></code> configuration option. If we wait a
short while, the replica will become in sync. If the replica does not
become in-sync, refer to <a class="reference external" href="#appendix.debug.common_problems">???</a>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila share-replica-list --share-id f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| ID                                   | Status    | Replica State | Share ID                             | Host                                | Availability Zone | Updated At                 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| 11265e8a-200c-4e0a-a40f-b7a1117001ed | available | active        | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS#aggr3       | nova              | 2016-03-23T18:16:34.000000 |
| b3191744-cee9-478b-b906-c5a7a3934adb | available | in_sync       | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS2#aggr4      | nova              | 2016-03-23T18:27:57.000000 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
</pre></div>
</div>
<p>Finally, let us failover to our other replica.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila share-replica-promote b3191744-cee9-478b-b906-c5a7a3934adb

$ manila share-replica-list --share-id f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc
+--------------------------------------+--------------------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| ID                                   | Status             | Replica State | Share ID                             | Host                                | Availability Zone | Updated At                 |
+--------------------------------------+--------------------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| 11265e8a-200c-4e0a-a40f-b7a1117001ed | available          | active        | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS#aggr3       | nova              | 2016-03-23T18:16:34.000000 |
| b3191744-cee9-478b-b906-c5a7a3934adb | replication_change | in_sync       | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS2#aggr4      | nova              | 2016-03-23T18:31:08.000000 |
+--------------------------------------+--------------------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+

$ manila share-replica-list --share-id f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| ID                                   | Status    | Replica State | Share ID                             | Host                                | Availability Zone | Updated At                 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
| 11265e8a-200c-4e0a-a40f-b7a1117001ed | available | out_of_sync   | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS#aggr3       | nova              | 2016-03-23T18:31:35.000000 |
| b3191744-cee9-478b-b906-c5a7a3934adb | available | active        | f49d7f1f-15e7-484a-83d9-5eb5fb6ad7fc | openstack2@cmodeSSVMNFS2#aggr4      | nova              | 2016-03-23T18:31:35.000000 |
+--------------------------------------+-----------+---------------+--------------------------------------+-------------------------------------+-------------------+----------------------------+
</pre></div>
</div>
<p>In this section, we’ll migrate a share from one pool to another.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila migration-start myFlash ocata@cmode_multi_svm_nfs#manila --writable False --preserve-snapshots True --preserve-metadata True --nondisruptive True
</pre></div>
</div>
<p>We can check the migration progress by using the
<code class="docutils literal"><span class="pre">migration-get-progress</span></code> command.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila migration-get-progress myFlash
+----------------+-------------------------------+
| Property       | Value                         |
+----------------+-------------------------------+
| task_state     | migration_driver_in_progress  |
| total_progress | 99                            |
+----------------+-------------------------------+
</pre></div>
</div>
<p>Once the task state has transitioned to
<code class="docutils literal"><span class="pre">migration_driver_phase1_done</span></code>, we can complete the migration process</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ manila migration-complete myFlash
</pre></div>
</div>
</div>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="section_manila-cdot.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Clustered Data ONTAP"></i></a>
          
          
            <a href="../../ch_nova.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: OpenStack Compute Service (Nova)"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">updated: 2017-08-25 01:54</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="http://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
              <a href="http://ask.openstack.org" class="docs-footer-actions"><i class="fa fa-question-circle"></i> questions?</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="http://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="../../index.html" class="docs-sidebar-section-title"><h4>NetApp OpenStack Docs 0.1</h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../ch_executive-summary.html">Executive Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ch_openstack-overview.html">OpenStack Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ch_netapp-storage.html">About NetApp Storage Systems and Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ch_cinder.html">OpenStack Block Storage Service (Cinder)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ch_glance-image-service.html">OpenStack Image Service (Glance)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../ch_manila.html">OpenStack Shared File System Service (Manila)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../section_manila-overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../section_manila-key-concepts.html">Key Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../section_manila-processes.html">Process Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../section_manila-api-overview.html">API Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../section_manila-deployment-choices.html">Theory of Operation &amp; Deployment Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../section_manila-configuration.html">Configuration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../section_manila-examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ch_nova.html">OpenStack Compute Service (Nova)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ch_swift.html">OpenStack Object Storage Service (Swift)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ch_operations.html">Operational Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/appendix_packaging.html">Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../appendices/appendix_debug.html">Troubleshooting</a></li>
</ul>

    </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="http://openstack.org/projects/">Projects</a></li>
          <li><a href="http://openstack.org/projects/openstack-security/">OpenStack Security</a></li>
          <li><a href="http://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="http://openstack.org/blog/">Blog</a></li>
          <li><a href="http://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="http://openstack.org/community/">User Groups</a></li>
          <li><a href="http://openstack.org/community/events/">Events</a></li>
          <li><a href="http://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="http://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="http://docs.openstack.org/infra/manual/developers.html">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="http://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="http://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="http://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="http://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="http://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="http://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="http://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="../../_static/js/jquery-3.1.1.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="../../_static/js/bootstrap.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="../../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="../../_static/js/docs.js"></script>

<!-- Popovers -->
<script type="text/javascript" src="../../_static/js/webui-popover.js"></script>

<!-- Javascript for page -->
<script language="JavaScript">
/* build a description of this page including SHA, source location on git repo,
   build time and the project's launchpad bug tag. Set the HREF of the bug
   buttons */

    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
        /* The URL of the source file on Git is based on the giturl variable
           in conf.py, which must be manually initialized to the source file
           URL in Git.
           "pagename" is a standard sphinx parameter containing the name of
           the source file, without extension.                             */

        var sourceFile = "manila/examples/section_manila-cli" + ".rst";
        gitURL = "Source: https://github.com/NetApp-openstack-dev/openstack-docs" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 2f9e12d46128dd8d84f23bfab55c9b4f032de64a";
        var bugProject = "NetApp-openstack-dev/openstack-docs";
        var bugTitle = "Manila Command Line Interface (CLI) in NetApp OpenStack Docs";
    var fieldTags = "docs, dog";
        var useStoryboard = "";


    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.1 on 2017-08-25 01:54";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags);
</script>

  </body>
</html>